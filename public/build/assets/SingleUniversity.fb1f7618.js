import{u as N,o as V,a as z,G as K,c as o,d as i,e,g as s,t as r,k as y,w as p,f as n,m as u,j as x,K as M,J as U,F as f,x as b,h as B,b as v}from"./app.a6e0b7af.js";import{u as T}from"./universityServices.28e4a053.js";import{u as H}from"./announcementServices.79e4efd4.js";import{u as q}from"./categoryAnnouncementServices.8a41ed77.js";import{r as D}from"./PlusCircleIcon.ce1d843a.js";import{r as F}from"./MegaphoneIcon.ea31dba5.js";import{r as J}from"./UserIcon.d0afcc78.js";const E={class:"mx-auto min-h-screen w-full bg-white px-20 text-lg xl:w-[90%]"},G={key:0,class:"py-6 px-4"},I={class:"dark:bg-gray-800 overflow-hidden rounded-lg bg-white shadow-md"},O=["src"],P={class:"p-6"},Q={href:"#",class:"rounded bg-primary-blue py-1 px-2 text-xs capitalize text-white"},R={key:0},W={key:1},X={key:2},Y={key:3},Z={class:"dark:text-white mt-2 block transform text-3xl font-semibold text-gray-800 transition-colors duration-200 hover:text-gray-600"},ee=["innerHTML"],te={key:1,class:"p-28"},se=e("svg",{class:"mx-auto h-16 w-16 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),oe=[se],re={class:"py-2 text-center text-3xl font-bold text-primary-blue"},ie={class:"flex justify-end px-6"},ae={class:"text-base leading-4"},le={class:"mt-4 grid grid-cols-1 gap-2 bg-gray-50 px-10 pb-8 pt-4 shadow lg:grid-cols-3"},de={class:"text-xs lg:text-sm"},ce={class:"dark:text-gray-200 text-gray-700"},ne={class:"text-xs lg:text-sm"},ge={class:"text-gray-700",for:"es"},pe=e("option",{value:""},"--------------",-1),ye=["value"],ue=e("div",{class:"bg-primary-blue p-2 shadow"},null,-1),he={class:"py-8"},_e={key:0,class:"grid grid-cols-1 gap-8 py-8 md:grid-cols-2 lg:grid-cols-3 lg:px-10"},me={class:"relative"},xe={key:0,class:"absolute top-5 right-5 z-10 flex h-8 w-8 items-center justify-center rounded-full bg-black/50 p-2 text-center text-sm text-white"},fe=["src","alt"],be={key:2,class:"h-48 w-full overflow-hidden rounded-t-lg bg-gray-50 py-10"},ve={class:"space-y-2 px-4 py-2"},we={href:"#",class:"mt-2 rounded bg-primary-blue py-1 px-2 text-xs capitalize text-white"},ke={class:"text-2xl font-bold capitalize text-gray-800 hover:underline"},Ce={class:"dark:text-gray-400 mt-2 text-sm text-gray-600"},$e={class:"flex h-10 items-center justify-between bg-gray-900 px-4 py-2"},Ae={key:0,class:"text-lg font-bold text-white"},Se={class:"flex items-center space-x-2 text-xs text-white"},je={class:"flex space-x-1"},Be={__name:"SingleUniversity",props:{id:{required:!0,type:String},slug:{required:!1,type:String}},setup(w){const h=w;N();const{university:a,getUniversity2:k,loading:C}=T(),{categoryAnnouncements:$,getCategoryAnnouncements:A}=q(),S=localStorage.user?JSON.parse(localStorage.user):"",{announcements:j,getAnnouncementsUniversity:L}=H();V(async()=>{await k(h.id),await L(h.id),await A()});const d=z({searchKey:"",category:""}),_=K(()=>j.value.filter(l=>{let c="";return d.category!=""?c=l.title.toLowerCase().includes(d.searchKey.toLowerCase())&&l.category.id==d.category:c=l.title.toLowerCase().includes(d.searchKey.toLowerCase()),c}));return(l,c)=>{const m=v("NoContent"),g=v("router-link");return o(),i("div",E,[e("div",null,[s(a).length!=0?(o(),i("div",G,[e("div",I,[e("img",{class:"h-96 w-full object-cover",src:s(a).image,alt:""},null,8,O),e("div",P,[e("div",null,[e("a",Q,[l.$i18n.locale=="en"?(o(),i("span",R,r(s(a).city.name_en+"-"+s(a).country.code_iso),1)):l.$i18n.locale=="fr"?(o(),i("span",W,r(s(a).city.name_fr+"-"+s(a).country.code_iso),1)):l.$i18n.locale=="es"?(o(),i("span",X,r(s(a).city.name_es+"-"+s(a).country.code_iso),1)):(o(),i("span",Y,r(s(a).country.name_pt+"-"+s(a).country.code_iso),1))]),e("h1",Z,r(s(a).name),1),e("p",{class:"dark:text-gray-400 my-4 mt-2 py-4 text-gray-600",innerHTML:s(a).description},null,8,ee)])])])])):s(C)==1?(o(),i("div",te,oe)):(o(),y(m,{key:2})),e("h1",re,r(l.$t("ads-university"))+" "+r(s(a).name),1),e("div",ie,[s(S).type=="particular"?(o(),y(g,{key:0,to:{name:"add.ads"},class:"flex items-center justify-start space-x-3 rounded bg-primary-blue px-3 py-2 text-white"},{default:p(()=>[n(s(D),{class:"h-6 w-6"}),e("p",ae,r(l.$tc("add",2))+" "+r(l.$t("ads")),1)]),_:1},8,["to"])):u("",!0)]),e("div",le,[e("div",de,[e("label",ce,r(l.$t("key-words")),1),x(e("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=t=>d.searchKey=t),class:"form-input mt-2 block w-full rounded-md border border-gray-200 bg-white px-3 pr-2 text-gray-700 placeholder:text-gray-400 focus:border-primary-blue focus:ring-primary-blue"},null,512),[[M,d.searchKey]])]),e("div",ne,[e("label",ge,r(l.$t("category")),1),x(e("select",{"onUpdate:modelValue":c[1]||(c[1]=t=>d.category=t),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[pe,(o(!0),i(f,null,b(s($),t=>(o(),i("option",{key:t.id,value:t.id},r(t.name),9,ye))),128))],512),[[U,d.category]])])]),ue,e("div",he,[s(_).length!=0?(o(),i("div",_e,[(o(!0),i(f,null,b(s(_),t=>(o(),i("div",{class:"dark:bg-gray-800 relative overflow-hidden rounded-lg shadow-lg",key:t.id},[n(g,{to:{name:"show.ads",params:{id:t.id,slug:t.slug}}},{default:p(()=>[e("div",me,[t.image[0]?(o(),i("div",xe,[e("span",null,r(t.image.length),1)])):u("",!0),t.image[0]?(o(),i("img",{key:1,class:"h-48 w-full rounded-t-lg object-cover",src:t.image[0],alt:t.title},null,8,fe)):(o(),i("div",be,[n(s(F),{class:"h-full w-full text-gray-500"})]))])]),_:2},1032,["to"]),e("div",ve,[e("a",we,r(t.category.name.length<=30?t.category.name:t.category.name.substring(0,25)+"..."),1),n(g,{to:{name:"show.ads",params:{id:t.id,slug:t.slug}}},{default:p(()=>[e("h1",ke,r(t.title.length<=20?t.title:t.title.substring(0,19)+"..."),1)]),_:2},1032,["to"]),e("p",Ce,r(t.description.substring(0,19)+"..."),1)]),e("div",$e,[t.price&&t.price!="null"?(o(),i("h1",Ae,r(t.price)+" "+r(t.currency.symbol),1)):u("",!0),e("div",Se,[e("div",je,[n(s(J),{class:"h-4 w-4"}),n(g,{to:{name:"compte",params:{slug:t.user.slug,id:t.user.id}},class:"hover:text-primary-blue"},{default:p(()=>[B(r(t.user.firstname),1)]),_:2},1032,["to"])])])])]))),128))])):(o(),y(m,{key:1}))])])])}}};export{Be as default};
