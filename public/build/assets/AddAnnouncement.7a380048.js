import{r as f,o as N,a as B,c as l,d as n,e,t as s,g as u,k as M,w as z,h as d,P as D,m as g,l as F,j as i,K as c,f as x,Q as j,J as _,F as h,x as k,I as E}from"./app.a6e0b7af.js";import{u as J}from"./announcementServices.79e4efd4.js";import{u as T}from"./categoryAnnouncementServices.8a41ed77.js";import{u as H}from"./currencyServices.e2864a01.js";import{u as I}from"./universityServices.28e4a053.js";import{_ as K}from"./DropZone.3b75f778.js";const L={class:"mx-auto min-h-screen w-full bg-white py-4 lg:px-20 xl:w-[90%]"},O={class:"w-full space-y-4 py-5 text-center"},P={class:"text-4xl font-bold capitalize text-primary-blue"},Q={class:"mx-auto w-full rounded-md bg-white p-6 shadow-xl"},R={class:"text-xl font-semibold"},G={class:"text-md font-light text-gray-700"},W={class:"mt-4"},X={class:"col-span-2"},Y={class:"dark:text-gray-200 text-gray-700"},Z=e("span",{class:"text-red-500"},"*",-1),ee={class:"text-xs font-light text-gray-400"},te={class:"divSelect2 col-span-2 mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},re={class:"dark:text-gray-200 text-gray-700",for:"pt"},oe=e("span",{class:"text-red-500"},"*",-1),se={class:"dark:text-gray-200 text-gray-700",for:"pt"},ae=e("span",{class:"text-red-500"},"*",-1),le=["value"],ne={class:"dark:text-gray-200 text-gray-700"},de=e("span",{class:"text-red-500"},"*",-1),ie={class:"dark:text-gray-200 text-gray-700"},ue=e("span",{class:"text-red-500"},"*",-1),ce={key:0},ge={class:"dark:text-gray-200 text-gray-700"},ye=e("span",{class:"text-red-500"},"*",-1),pe={key:1},be={class:"dark:text-gray-200 text-gray-700",for:"es"},me=e("span",{class:"text-red-500"},"*",-1),fe=["value"],xe={class:"dark:text-gray-200 text-gray-700"},_e={class:"dark:text-gray-200 text-gray-700"},he={class:"col-span-2 mt-4"},ke={class:"dark:text-gray-200 text-gray-700",for:"fr"},we={class:"flex items-center space-x-4 py-4"},ve={class:"col-span-2 mt-4"},Ve={class:"dark:text-gray-200 text-gray-700",for:"pt"},$e=e("span",{class:"text-red-500"},"*",-1),Ue={class:"mt-6"},Ce={key:0,type:"submit",class:"text-md w-full rounded bg-primary-blue px-6 py-4 leading-5 text-white focus:outline-none"},Ae={key:1,type:"submit",disabled:"",class:"text-md flex w-full items-center justify-center rounded bg-blue-300 px-6 py-4 leading-5 text-white focus:outline-none"},qe=e("svg",{class:"h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Se=[qe],Ee={__name:"AddAnnouncement",setup(Ne){const w=E(),b=localStorage.user?JSON.parse(localStorage.user):"",{categoryAnnouncements:v,getCategoryAnnouncements:V}=T(),{currencies:$,getCurrencies:U}=H(),{universities:C,getAllUniversities:A}=I();f(null),N(async()=>{y.value=!0,await V(),await U(),await A(),y.value=!1});const y=f(!1),r=B({title:"",user_id:b.id,description:"",price:"",image:[],adress:"",website:"",email:b.email,phone:"",category_announcement_id:"",currency_id:"",university_id:""}),{createAnnouncement:q,errors:p,loading:m}=J(),S=async()=>{await q({...r}),p.value==""&&w.push({name:"ads"})};return(a,o)=>(l(),n("div",L,[e("div",O,[e("h1",P,s(a.$tc("add",2))+" "+s(a.$t("ads")),1)]),e("section",Q,[u(p)!=""?(l(),M(D,{key:0},{default:z(()=>[d(s(u(p)),1)]),_:1})):g("",!0),e("h1",R,s(a.$tc("add",2))+" "+s(a.$t("ads")),1),e("h2",G,s(a.$t("good-msg-post"))+" ! ",1),e("form",{onSubmit:o[11]||(o[11]=F(t=>S(),["prevent"])),id:"announcementform",enctype:"multipart/form-data"},[e("div",W,[e("div",X,[e("label",Y,[d(s(a.$t("title"))+" ",1),Z]),i(e("input",{required:"","onUpdate:modelValue":o[0]||(o[0]=t=>r.title=t),maxlength:"50",type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,r.title]]),e("span",ee,s(r.title?r.title.length:0)+" of 50 Characters",1)]),e("div",te,[e("div",null,[e("label",re,[d(s(a.$t("university"))+" ",1),oe]),x(j,{modelValue:r.university_id,"onUpdate:modelValue":o[1]||(o[1]=t=>r.university_id=t),data:u(C),placeholder:"Select University",required:!1,resetField:!0,loading:y.value,className:"w-full h-full mt-1 block rounded-md border bg-white  border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 text-sm"},null,8,["modelValue","data","loading","className"])]),e("div",null,[e("label",se,[d(s(a.$t("category"))+" ",1),ae]),i(e("select",{required:"","onUpdate:modelValue":o[2]||(o[2]=t=>r.category_announcement_id=t),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),n(h,null,k(u(v),t=>(l(),n("option",{key:t.id,value:t.id},s(t.name),9,le))),128))],512),[[_,r.category_announcement_id]])]),e("div",null,[e("label",ne,[d(s(a.$t("contact-phone"))+" ",1),de]),i(e("input",{required:"","onUpdate:modelValue":o[3]||(o[3]=t=>r.phone=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,r.phone]])]),e("div",null,[e("label",ie,[d(s(a.$t("contact-email"))+" ",1),ue]),i(e("input",{required:"","onUpdate:modelValue":o[4]||(o[4]=t=>r.email=t),type:"email",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,r.email]])]),r.category_announcement_id!=10?(l(),n("div",ce,[e("label",ge,[d(s(a.$t("price"))+" ",1),ye]),i(e("input",{required:"","onUpdate:modelValue":o[5]||(o[5]=t=>r.price=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,r.price]])])):g("",!0),r.category_announcement_id!=10?(l(),n("div",pe,[e("label",be,[d(s(a.$t("currency"))+" ",1),me]),i(e("select",{required:"","onUpdate:modelValue":o[6]||(o[6]=t=>r.currency_id=t),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),n(h,null,k(u($),t=>(l(),n("option",{key:t.id,value:t.id},s(t.symbol+" "+t.name),9,fe))),128))],512),[[_,r.currency_id]])])):g("",!0),e("div",null,[e("label",xe,s(a.$t("adresse")),1),i(e("input",{"onUpdate:modelValue":o[7]||(o[7]=t=>r.adress=t),type:"text",placeholder:"Douala Cameroon",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,r.adress]])]),e("div",null,[e("label",_e,s(a.$t("website")),1),i(e("input",{"onUpdate:modelValue":o[8]||(o[8]=t=>r.website=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,r.website]])])]),e("div",he,[e("label",ke,s(a.$t("thumbnails")),1),e("div",we,[x(K,{modelValue:r.image,"onUpdate:modelValue":o[9]||(o[9]=t=>r.image=t),multiple:!0},null,8,["modelValue"])])]),e("div",ve,[e("label",Ve,[d(s(a.$t("description"))+" ",1),$e]),i(e("textarea",{required:"",type:"text","onUpdate:modelValue":o[10]||(o[10]=t=>r.description=t),id:"pt",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`\r
                        `,512),[[c,r.description]])])]),e("div",Ue,[u(m)==0?(l(),n("button",Ce,s(a.$t("save")),1)):g("",!0),u(m)==1?(l(),n("button",Ae,Se)):g("",!0)])],32)])]))}};export{Ee as default};
