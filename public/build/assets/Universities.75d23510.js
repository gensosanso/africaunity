import{c as t,d as s,e as l,F as c,x as u,f as m,g as r,L as I,r as g,o as O,M as P,a as Q,t as n,j as h,K as W,J as b,w as U,m as k,h as N,k as X,b as S}from"./app.a6e0b7af.js";import{u as Y}from"./universityServices.28e4a053.js";import{u as ee}from"./continentServices.7d39236e.js";import{u as te}from"./countryServices.205b0384.js";import{u as se}from"./cityServices.ba8ce71b.js";import{u as oe}from"./zoneServices.558e62e1.js";import{r as ne}from"./PhotoIcon.576bb08e.js";const le={class:"animate-pulse"},ae={class:"grid grid-cols-1 gap-4 py-8 px-10 md:grid-cols-2 lg:grid-cols-4"},ie={class:"mx-auto h-44 w-32 overflow-hidden"},re=I('<div class="flex flex-col items-start justify-center p-6"><div class="mb-4 h-5 w-32 rounded-md bg-gray-200"></div><div class="mb-4 h-2.5 w-5/6 rounded-full bg-gray-200"></div><div class="mb-4 h-2.5 w-1/2 rounded-full bg-gray-200"></div><div class="mb-4 h-2.5 w-3/5 rounded-full bg-gray-200"></div></div>',1),K={__name:"University",setup(B){const _=[1,2,3,4,5,6];return(f,d)=>(t(),s("div",le,[l("div",ae,[(t(),s(c,null,u(_,y=>l("div",{key:y,class:"h-80 rounded bg-gray-100 shadow"},[l("div",ie,[m(r(ne),{class:"h-full w-full text-gray-200"})]),re])),64))])]))}},de={class:"mx-auto min-h-screen w-full bg-white xl:w-[90%]"},ce={class:"py-2 text-center text-5xl font-bold capitalize text-primary-blue"},ue={class:"py-8 lg:px-16"},me={class:"grid grid-cols-1 gap-2 bg-gray-50 px-10 pb-8 pt-4 shadow lg:grid-cols-4"},_e={class:"text-xs lg:text-sm"},ye={class:"dark:text-gray-200 text-gray-700"},pe={class:"text-xs lg:text-sm"},ge={class:"text-gray-700",for:"es"},he=l("option",{value:""},"--------------",-1),fe=["value"],ve={key:0},be={key:1},ke={key:2},we={key:3},xe={class:"text-xs lg:text-sm"},$e={class:"text-gray-700",for:"es"},Ce=l("option",{value:""},"--------------",-1),Ue=["value"],Ve={key:0},ze={key:1},Ne={key:2},Se={key:3},Ke={key:1,value:"null"},Be={class:"text-xs lg:text-sm"},Fe={class:"text-gray-700",for:"es"},je=l("option",{value:""},"--------------",-1),Le=["value"],Me={key:0},Ee={key:1},Ze={key:2},De={key:3},Te={key:1,value:"null"},Ae={class:"text-xs lg:text-sm"},Ge={class:"text-gray-700",for:"es"},He=l("option",{value:""},"--------------",-1),Je=["value"],Re={key:0},qe={key:1},Ie={key:2},Oe={key:3},Pe={key:1,value:"null"},Qe={class:"flex items-end text-xs lg:text-sm"},We=l("div",{class:"bg-primary-blue p-2 shadow"},null,-1),Xe={key:0},Ye=["src"],et={class:"p-6"},tt={key:0,href:"#",class:"rounded bg-primary-blue py-1 px-2 text-xs capitalize text-white"},st={key:0},ot={key:1},nt={key:2},lt={key:3},at={class:"mt-4 flex items-center justify-between text-sm"},it={key:2},pt={__name:"Universities",setup(B){const{universities:_,getUniversities:f,loading:d,page:y,isAll:V,filterUniversities:F}=Y(),{continents:j,getContinents:L}=ee(),{countries:M,getCountries:E}=te(),{zones:Z,getZones:D}=oe(),{cities:T,getCities:A}=se(),w=g([]),v=g([]),p=g([]),x=g(null),$=g(!0);O(async()=>{window.addEventListener("scroll",z),await f(),await L(),await D(),await E(),await A()}),P(async()=>{y.value=1,window.removeEventListener("scroll",z)});const z=async o=>{x.value&&x.value.getBoundingClientRect().bottom<window.innerHeight&&$.value&&!V.value&&a.country==""&&a.continent==""&&a.city==""&&a.zone==""&&a.searchKey==""&&($.value=!1,y.value++,await f(),$.value=!0)},G=async()=>{a.country!=""||a.continent!=""||a.city!=""||a.zone!=""||a.searchKey!=""?(d.value=1,await F({...a}),d.value=2):(y.value=1,V.value=!1,await f())},a=Q({country:"",continent:"",city:"",zone:"",searchKey:""}),H=async()=>{p.value=T.value.filter(o=>o.country_id==a.country),a.city=""},J=async()=>{v.value=M.value.filter(o=>o.zone_id==a.zone),a.country="",a.city="",p.value=[]},R=async()=>{w.value=Z.value.filter(o=>o.continent_id==a.continent),a.zone="",a.country="",a.city="",p.value=[],v.value=[]};return(o,i)=>{const C=S("router-link"),q=S("NoContent");return t(),s("div",de,[l("h1",ce,n(o.$t("univerities")),1),l("div",ue,[l("div",me,[l("div",_e,[l("label",ye,n(o.$t("key-words")),1),h(l("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=e=>a.searchKey=e),class:"form-input mt-2 block w-full rounded-md border border-gray-200 bg-white px-3 pr-2 text-gray-700 placeholder:text-gray-400 focus:border-primary-blue focus:ring-primary-blue"},null,512),[[W,a.searchKey]])]),l("div",pe,[l("label",ge,n(o.$t("continent")),1),h(l("select",{onChange:i[1]||(i[1]=e=>R()),"onUpdate:modelValue":i[2]||(i[2]=e=>a.continent=e),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[he,(t(!0),s(c,null,u(r(j),e=>(t(),s("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(t(),s("span",ve,n(e.name_en),1)):o.$i18n.locale=="fr"?(t(),s("span",be,n(e.name_fr),1)):o.$i18n.locale=="es"?(t(),s("span",ke,n(e.name_es),1)):(t(),s("span",we,n(e.name_pt),1))],8,fe))),128))],544),[[b,a.continent]])]),l("div",xe,[l("label",$e,n(o.$t("zoned")),1),h(l("select",{"onUpdate:modelValue":i[3]||(i[3]=e=>a.zone=e),onChange:i[4]||(i[4]=e=>J()),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[Ce,w.value.length!=0?(t(!0),s(c,{key:0},u(w.value,e=>(t(),s("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(t(),s("span",Ve,n(e.name_en),1)):o.$i18n.locale=="fr"?(t(),s("span",ze,n(e.name_fr),1)):o.$i18n.locale=="es"?(t(),s("span",Ne,n(e.name_es),1)):(t(),s("span",Se,n(e.name_pt),1))],8,Ue))),128)):(t(),s("option",Ke," Select "+n(o.$t("continent")),1))],544),[[b,a.zone]])]),l("div",Be,[l("label",Fe,n(o.$t("country")),1),h(l("select",{"onUpdate:modelValue":i[5]||(i[5]=e=>a.country=e),onChange:i[6]||(i[6]=e=>H()),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[je,v.value.length!=0?(t(!0),s(c,{key:0},u(v.value,e=>(t(),s("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(t(),s("span",Me,n(e.name_en),1)):o.$i18n.locale=="fr"?(t(),s("span",Ee,n(e.name_fr),1)):o.$i18n.locale=="es"?(t(),s("span",Ze,n(e.name_es),1)):(t(),s("span",De,n(e.name_pt),1))],8,Le))),128)):(t(),s("option",Te," Select "+n(o.$t("zoned")),1))],544),[[b,a.country]])]),l("div",Ae,[l("label",Ge,n(o.$t("city")),1),h(l("select",{"onUpdate:modelValue":i[7]||(i[7]=e=>a.city=e),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[He,p.value.length!=0?(t(!0),s(c,{key:0},u(p.value,e=>(t(),s("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(t(),s("span",Re,n(e.name_en),1)):o.$i18n.locale=="fr"?(t(),s("span",qe,n(e.name_fr),1)):o.$i18n.locale=="es"?(t(),s("span",Ie,n(e.name_es),1)):(t(),s("span",Oe,n(e.name_pt),1))],8,Je))),128)):(t(),s("option",Pe," Select "+n(o.$t("country")),1))],512),[[b,a.city]])]),l("div",Qe,[l("button",{type:"button",onClick:i[8]||(i[8]=e=>G()),class:"w-full rounded-md bg-primary-blue px-4 py-2.5 text-white"},n(o.$t("search")),1)])]),We,r(d)==3?(t(),s("div",Xe,[m(K)])):r(_).length!=0?(t(),s("div",{key:1,class:"grid grid-cols-1 gap-8 px-10 py-8 md:grid-cols-2 lg:grid-cols-4",ref_key:"universityContainer",ref:x},[(t(!0),s(c,null,u(r(_),e=>(t(),s("div",{class:"dark:bg-gray-800 overflow-hidden rounded-lg bg-white shadow-md",key:e.id},[m(C,{to:{name:"show.university",params:{id:e.id,slug:e.slug}}},{default:U(()=>[l("img",{class:"h-44 w-full object-cover",src:e.image,alt:""},null,8,Ye)]),_:2},1032,["to"]),l("div",et,[l("div",null,[e.city?(t(),s("a",tt,[o.$i18n.locale=="en"?(t(),s("span",st,n(e.city.name_en+"-"+e.country.code_iso),1)):o.$i18n.locale=="fr"?(t(),s("span",ot,n(e.city.name_fr+"-"+e.country.code_iso),1)):o.$i18n.locale=="es"?(t(),s("span",nt,n(e.city.name_es+"-"+e.country.code_iso),1)):(t(),s("span",lt,n(e.country.name_pt+"-"+e.country.code_iso),1))])):k("",!0),m(C,{to:{name:"show.university",params:{id:e.id,slug:e.slug}},class:"dark:text-white mt-2 block transform text-2xl font-semibold text-gray-800 transition-colors duration-200 hover:text-gray-600 hover:underline"},{default:U(()=>[N(n(e.name.length<=30?e.name:e.name.substring(0,27)+"..."),1)]),_:2},1032,["to"])]),l("div",at,[m(C,{to:{name:"show.university",params:{id:e.id,slug:e.slug}},class:"dark:text-blue-400 text-blue-600 hover:underline"},{default:U(()=>[N(n(o.$t("read-more")),1)]),_:2},1032,["to"])])])]))),128))],512)):k("",!0),r(d)==1?(t(),s("div",it,[m(K)])):k("",!0),r(_).length==0&&r(d)!=1?(t(),X(q,{key:3})):k("",!0)])])}}};export{pt as default};
