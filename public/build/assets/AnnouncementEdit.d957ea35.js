import{r as f,o as P,c as l,d,e,g as o,k as T,w as z,h as I,t as g,P as $,m as p,l as H,j as s,K as i,f as x,J as v,F as k,x as _,H as J,b as w}from"./app.69923205.js";import{u as K}from"./announcementServices.da740ff0.js";import{u as L}from"./categoryAnnouncementServices.9aa695ca.js";import{u as O}from"./currencyServices.1cf8a5d5.js";import{u as R}from"./universityServices.0f07f055.js";const W={class:"relative min-h-screen w-full bg-white xl:mt-0 xl:p-4"},G={class:"z-0 w-full p-4"},Q=e("div",{class:"flex w-full justify-between bg-white px-8 py-5"},[e("h1",{class:"text-4xl font-bold capitalize text-primary-blue"}," Edit Announcement ")],-1),X={class:"mx-auto w-full bg-white p-6"},Y=e("h2",{class:"text-md font-light text-gray-700"}," Add a new Announcement ",-1),Z={class:"mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},ee={class:"col-span-2"},te=e("label",{class:"dark:text-gray-200 text-gray-700"},"Title",-1),re=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"University",-1),oe=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"Category",-1),ae=["value"],ne=e("label",{class:"dark:text-gray-200 text-gray-700"},"Contact Phone",-1),se=e("label",{class:"dark:text-gray-200 text-gray-700"},"Contact Adress Email",-1),le=e("label",{class:"dark:text-gray-200 text-gray-700"},"Price",-1),de=e("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Currency",-1),ie=["value"],ue=e("label",{class:"dark:text-gray-200 text-gray-700"},"Address",-1),ce=e("label",{class:"dark:text-gray-200 text-gray-700"},"Website",-1),ge={class:"col-span-2"},pe=e("label",{class:"dark:text-gray-200 text-gray-700",for:"fr"},"Image",-1),be={class:"col-span-2"},ye=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"Description",-1),me={class:"mt-6 flex justify-end"},fe={key:0,type:"submit",class:"rounded bg-primary-blue px-6 py-2 leading-5 text-white focus:outline-none"},xe={key:1,type:"submit",disabled:"",class:"rounded bg-blue-300 px-6 py-2 leading-5 text-white focus:outline-none"},Ue={__name:"AnnouncementEdit",props:{id:{required:!0,type:String}},setup(h){const b=h,U=J(),y=f(null),u=f(!1),{updateAnnouncement:V,getAnnouncement:A,announcement:t,errors:c,loading:m}=K(),{categoryAnnouncements:C,getCategoryAnnouncements:S}=L(),{currencies:q,getCurrencies:F}=O(),{universities:N,getAllUniversities:D}=R();P(async()=>{u.value=!0,await A(b.id),await S(),await F();let n=t.value.university_id;await D(),t.value.university_id="0",t.value.university_id=n,u.value=!1,t.value.image=""});const E=async()=>{let n=new FormData;n.append("image",t.value.image),n.append("title",t.value.title),n.append("description",t.value.description),n.append("price",t.value.price),n.append("adress",t.value.adress),n.append("website",t.value.website),n.append("email",t.value.email),n.append("phone",t.value.phone),n.append("user_id",t.value.user_id),n.append("category_announcement_id",t.value.category_announcement_id),n.append("currency_id",t.value.currency_id),n.append("university_id",t.value.university_id),n.append("_method","PUT"),await V(n,b.id),c.value==""&&U.push({name:"admin.announcement.index"})},j=async()=>{t.value.image=y.value.files[0]};return(n,a)=>{const B=w("SelectFilter"),M=w("Spin");return l(),d("div",W,[e("div",G,[Q,e("section",X,[o(c)!=""?(l(),T($,{key:0},{default:z(()=>[I(g(o(c)),1)]),_:1})):p("",!0),Y,e("form",{onSubmit:a[11]||(a[11]=H(r=>E(),["prevent"])),id:"announcementform",enctype:"multipart/form-data"},[e("div",Z,[e("div",ee,[te,s(e("input",{required:"","onUpdate:modelValue":a[0]||(a[0]=r=>o(t).title=r),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[i,o(t).title]])]),e("div",null,[re,x(B,{modelValue:o(t).university_id,"onUpdate:modelValue":a[1]||(a[1]=r=>o(t).university_id=r),data:o(N),placeholder:"Select University",required:!1,resetField:!0,loading:u.value,className:"w-full h-full mt-1 block rounded-md border bg-white  border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 text-sm"},null,8,["modelValue","data","loading","className"])]),e("div",null,[oe,s(e("select",{required:"","onUpdate:modelValue":a[2]||(a[2]=r=>o(t).category_announcement_id=r),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),d(k,null,_(o(C),r=>(l(),d("option",{key:r.id,value:r.id},g(r.name),9,ae))),128))],512),[[v,o(t).category_announcement_id]])]),e("div",null,[ne,s(e("input",{required:"","onUpdate:modelValue":a[3]||(a[3]=r=>o(t).phone=r),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[i,o(t).phone]])]),e("div",null,[se,s(e("input",{required:"","onUpdate:modelValue":a[4]||(a[4]=r=>o(t).email=r),type:"email",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[i,o(t).email]])]),e("div",null,[le,s(e("input",{required:"","onUpdate:modelValue":a[5]||(a[5]=r=>o(t).price=r),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[i,o(t).price]])]),e("div",null,[de,s(e("select",{required:"","onUpdate:modelValue":a[6]||(a[6]=r=>o(t).currency_id=r),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),d(k,null,_(o(q),r=>(l(),d("option",{key:r.id,value:r.id},g(r.symbol+" "+r.name),9,ie))),128))],512),[[v,o(t).currency_id]])]),e("div",null,[ue,s(e("input",{"onUpdate:modelValue":a[7]||(a[7]=r=>o(t).adress=r),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[i,o(t).adress]])]),e("div",null,[ce,s(e("input",{"onUpdate:modelValue":a[8]||(a[8]=r=>o(t).website=r),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[i,o(t).website]])]),e("div",ge,[pe,e("input",{ref_key:"file",ref:y,onChange:a[9]||(a[9]=r=>j()),type:"file",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544)]),e("div",be,[ye,s(e("textarea",{required:"",type:"text","onUpdate:modelValue":a[10]||(a[10]=r=>o(t).description=r),id:"pt",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`\r
                            `,512),[[i,o(t).description]])])]),e("div",me,[o(m)==0?(l(),d("button",fe," Save ")):p("",!0),o(m)==1?(l(),d("button",xe,[x(M,{size:"small"})])):p("",!0)])],32)])])])}}};export{Ue as default};
