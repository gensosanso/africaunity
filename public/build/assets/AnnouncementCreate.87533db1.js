import{r as m,o as M,a as z,c as n,d,e,g as l,k as E,w as P,h as T,t as g,P as J,m as p,l as O,j as s,K as i,f,J as x,F as k,x as _,H as $,b as w}from"./app.19df3b2f.js";import{u as H}from"./announcementServices.e54b5a2f.js";import{u as I}from"./categoryAnnouncementServices.6e0a1c61.js";import{u as K}from"./currencyServices.9bb97b53.js";import{u as L}from"./universityServices.2fe70fe8.js";const R={class:"relative min-h-screen w-full bg-white xl:mt-0 xl:p-4"},W={class:"z-0 w-full p-4"},G=e("div",{class:"flex w-full justify-between bg-white px-8 py-5"},[e("h1",{class:"text-4xl font-bold capitalize text-primary-blue"}," Add Announcement ")],-1),Q={class:"mx-auto w-full bg-white p-6"},X=e("h2",{class:"text-md font-light text-gray-700"}," Add a new Announcement ",-1),Y={class:"mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},Z={class:"col-span-2"},ee=e("label",{class:"dark:text-gray-200 text-gray-700"},"Title",-1),re=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"University",-1),te=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"Category",-1),oe=["value"],ae=e("label",{class:"dark:text-gray-200 text-gray-700"},"Contact Phone",-1),se=e("label",{class:"dark:text-gray-200 text-gray-700"},"Contact Adress Email",-1),ne=e("label",{class:"dark:text-gray-200 text-gray-700"},"Price",-1),de=e("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Currency",-1),le=["value"],ie=e("label",{class:"dark:text-gray-200 text-gray-700"},"Address",-1),ue=e("label",{class:"dark:text-gray-200 text-gray-700"},"Website",-1),ce={class:"col-span-2"},ge=e("label",{class:"dark:text-gray-200 text-gray-700",for:"fr"},"Image",-1),pe={class:"col-span-2"},be=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"Description",-1),ye={class:"mt-6 flex justify-end"},me={key:0,type:"submit",class:"rounded bg-primary-blue px-6 py-2 leading-5 text-white focus:outline-none"},fe={key:1,type:"submit",disabled:"",class:"rounded bg-blue-300 px-6 py-2 leading-5 text-white focus:outline-none"},Ve={__name:"AnnouncementCreate",setup(xe){const v=$(),b=m(null),h=JSON.parse(localStorage.user),{categoryAnnouncements:V,getCategoryAnnouncements:U}=I(),{currencies:A,getCurrencies:C}=K(),{universities:S,getAllUniversities:q}=L(),u=m(!1);M(async()=>{u.value=!0,await U(),await C(),await q(),u.value=!1});const r=z({title:"",user_id:h.id,description:"",price:"",image:"",adress:"",website:"",email:"",phone:"",category_announcement_id:1,currency_id:1,university_id:1}),{createAnnouncement:F,errors:c,loading:y}=H(),N=async()=>{let a=new FormData;a.append("image",r.image),a.append("title",r.title),a.append("description",r.description),a.append("price",r.price),a.append("adress",r.adress),a.append("website",r.website),a.append("email",r.email),a.append("phone",r.phone),a.append("user_id",r.user_id),a.append("category_announcement_id",r.category_announcement_id),a.append("currency_id",r.currency_id),a.append("university_id",r.university_id),await F(a),c.value==""&&v.push({name:"admin.announcement.index"})},D=async()=>{r.image=b.value.files[0]};return(a,o)=>{const j=w("SelectFilter"),B=w("Spin");return n(),d("div",R,[e("div",W,[G,e("section",Q,[l(c)!=""?(n(),E(J,{key:0},{default:P(()=>[T(g(l(c)),1)]),_:1})):p("",!0),X,e("form",{onSubmit:o[11]||(o[11]=O(t=>N(),["prevent"])),id:"announcementform",enctype:"multipart/form-data"},[e("div",Y,[e("div",Z,[ee,s(e("input",{required:"","onUpdate:modelValue":o[0]||(o[0]=t=>r.title=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[i,r.title]])]),e("div",null,[re,f(j,{modelValue:r.university_id,"onUpdate:modelValue":o[1]||(o[1]=t=>r.university_id=t),data:l(S),placeholder:"Select University",required:!1,resetField:!0,loading:u.value,className:"w-full h-full mt-1 block rounded-md border bg-white  border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 text-sm"},null,8,["modelValue","data","loading","className"])]),e("div",null,[te,s(e("select",{required:"","onUpdate:modelValue":o[2]||(o[2]=t=>r.category_announcement_id=t),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),d(k,null,_(l(V),t=>(n(),d("option",{key:t.id,value:t.id},g(t.name),9,oe))),128))],512),[[x,r.category_announcement_id]])]),e("div",null,[ae,s(e("input",{required:"","onUpdate:modelValue":o[3]||(o[3]=t=>r.phone=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[i,r.phone]])]),e("div",null,[se,s(e("input",{required:"","onUpdate:modelValue":o[4]||(o[4]=t=>r.email=t),type:"email",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[i,r.email]])]),e("div",null,[ne,s(e("input",{required:"","onUpdate:modelValue":o[5]||(o[5]=t=>r.price=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[i,r.price]])]),e("div",null,[de,s(e("select",{required:"","onUpdate:modelValue":o[6]||(o[6]=t=>r.currency_id=t),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),d(k,null,_(l(A),t=>(n(),d("option",{key:t.id,value:t.id},g(t.symbol+" "+t.name),9,le))),128))],512),[[x,r.currency_id]])]),e("div",null,[ie,s(e("input",{"onUpdate:modelValue":o[7]||(o[7]=t=>r.adress=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[i,r.adress]])]),e("div",null,[ue,s(e("input",{"onUpdate:modelValue":o[8]||(o[8]=t=>r.website=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[i,r.website]])]),e("div",ce,[ge,e("input",{required:"",ref_key:"file",ref:b,onChange:o[9]||(o[9]=t=>D()),type:"file",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544)]),e("div",pe,[be,s(e("textarea",{required:"",type:"text","onUpdate:modelValue":o[10]||(o[10]=t=>r.description=t),id:"pt",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`\r
                            `,512),[[i,r.description]])])]),e("div",ye,[l(y)==0?(n(),d("button",me," Save ")):p("",!0),l(y)==1?(n(),d("button",fe,[f(B,{size:"small"})])):p("",!0)])],32)])])])}}};export{Ve as default};
