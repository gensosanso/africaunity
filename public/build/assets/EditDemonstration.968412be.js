import{r as g,o as re,c as r,d as l,e as o,t as n,g as i,k as le,w as ie,h as u,m as h,l as ae,j as d,K as m,J as p,F as c,x as _,f as de,H as ue,b as C}from"./app.19df3b2f.js";import{u as pe}from"./zoneServices.c3a65b02.js";import{u as ce}from"./cityServices.87225124.js";import{u as _e}from"./countryServices.a9b4c834.js";import{u as me}from"./currencyServices.9bb97b53.js";import{u as ye}from"./continentServices.a666cfc6.js";import{u as fe}from"./ministryServices.a5569281.js";import{u as be}from"./activityAreaServices.ce2585ed.js";import{u as ge}from"./demonstrationServices.161a6876.js";import{u as he}from"./demonstrationModeServices.a09f63f3.js";import{u as ve}from"./demonstrationTypeServices.049bca12.js";import{u as ke}from"./demonstrationNicheServices.c6e27b5b.js";const we={class:"mx-auto min-h-screen w-full bg-white py-4 lg:px-20 xl:w-[90%]"},xe={class:"w-full space-y-4 py-5 text-center"},$e={class:"text-4xl font-bold capitalize text-primary-blue"},Ue={class:"mx-auto w-full rounded-md bg-white p-6 shadow-xl"},Ve={class:"text-xl font-semibold"},qe={class:"text-md font-light text-gray-700"},Ce={class:"mt-4"},De={class:"col-span-2"},ze={class:"text-gray-700"},Se=o("span",{class:"text-red-500"},"*",-1),Re={class:"text-xs font-light text-gray-400"},Ee={class:"col-span-2 mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},Fe={class:"text-gray-700",for:"pt"},Le=o("span",{class:"text-red-500"},"*",-1),je=["value"],Be={key:0},Me={key:1},Oe={key:2},Ne={key:3},Ze={class:"text-gray-700",for:"pt"},Ie=o("span",{class:"text-red-500"},"*",-1),Je=["value"],Pe={key:0},Ge={key:1},He={key:2},Ke={key:3},Te={class:"text-gray-700",for:"es"},Ae=o("span",{class:"text-red-500"},"*",-1),Qe=["value"],We={key:0},Xe={key:1},Ye={key:2},et={key:3},tt={class:"text-gray-700",for:"es"},ot=o("span",{class:"text-red-500"},"*",-1),st=["value"],nt={key:0},rt={key:1},lt={key:2},it={key:3},at={key:1,value:"null"},dt={class:"text-gray-700",for:"es"},ut=o("span",{class:"text-red-500"},"*",-1),pt=["value"],ct={key:0},_t={key:1},mt={key:2},yt={key:3},ft={key:1,value:"null"},bt={class:"d text-gray-700",for:"es"},gt=o("span",{class:"text-red-500"},"*",-1),ht=["value"],vt={key:0},kt={key:1},wt={key:2},xt={key:3},$t={key:1,value:"null"},Ut={class:""},Vt={class:"text-gray-700",for:"es"},qt=["value"],Ct={key:0},Dt={key:1},zt={key:2},St={key:3},Rt={class:""},Et={class:"text-gray-700",for:"pt"},Ft=["value"],Lt={key:0},jt={key:1},Bt={key:2},Mt={key:3},Ot={class:"sm:col-span-2"},Nt={class:"text-gray-700",for:"pt"},Zt=o("span",{class:"text-red-500"},"*",-1),It={class:"sm:col-span-2"},Jt={class:"text-gray-700"},Pt=o("span",{class:"text-red-500"},"*",-1),Gt=o("option",{value:"free"},"Gratuit",-1),Ht=o("option",{value:"paying"},"Payant",-1),Kt=[Gt,Ht],Tt={class:"text-gray-700"},At={class:"text-gray-700",for:"es"},Qt=["value"],Wt={class:"text-gray-700"},Xt=o("span",{class:"text-red-500"},"*",-1),Yt={class:"text-gray-700"},eo=o("span",{class:"text-red-500"},"*",-1),to={class:"text-gray-700"},oo=o("span",{class:"text-red-500"},"*",-1),so=["value"],no={key:0},ro={key:1},lo={key:2},io={key:3},ao={class:"text-gray-700"},uo=o("span",{class:"text-red-500"},"*",-1),po={class:"text-gray-700"},co=o("span",{class:"text-red-500"},"*",-1),_o={class:"text-gray-700"},mo=o("span",{class:"text-red-500"},"*",-1),yo={class:"sm:col-span-2 mt-4"},fo={class:"text-gray-700",for:"fr"},bo={class:"flex items-center space-x-4 py-4"},go=["src","alt"],ho={class:"sm:col-span-2 mt-4"},vo={class:"text-gray-700",for:"pt"},ko=o("span",{class:"text-red-500"},"*",-1),wo={class:"mt-6"},xo={key:0,type:"submit",class:"text-md w-full rounded bg-primary-blue px-6 py-4 leading-5 text-white focus:outline-none"},$o={key:1,type:"submit",disabled:"",class:"text-md flex w-full items-center justify-center rounded bg-blue-300 px-6 py-4 leading-5 text-white focus:outline-none"},Bo={__name:"EditDemonstration",props:{id:{required:!0,type:String}},setup(D){const k=D,w=g(null),z=ue(),y=g([]),b=g([]),f=g([]),{zones:x,getZones:S}=pe(),{cities:$,getCities:R}=ce(),{countries:U,getCountries:E}=_e(),{currencies:F,getCurrencies:L}=me(),{continents:j,getContinents:B}=ye(),{ministries:M,getMinistries:O}=fe(),{activityAreas:N,getActivityAreas:Z}=be(),{errors:v,loading:V,demonstration:s,getDemonstration:I,updateDemonstration:J}=ge(),{demonstrationTypes:P,getDemonstrationTypes:G}=ve(),{demonstrationModes:H,getDemonstrationModes:K}=he(),{demonstrationNiches:T,getDemonstrationNiches:A}=ke(),q=localStorage.user?JSON.parse(localStorage.user):"";re(async()=>{await I(k.id),await G(),await K(),await A(),await Z(),await O(),await L(),await B(),await S(),await E(),await R(),b.value=x.value.filter(t=>t.continent_id==s.value.continent_id),f.value=U.value.filter(t=>t.zone_id==s.value.zone_id),y.value=$.value.filter(t=>t.country_id==s.value.country_id)});const Q=async()=>{let t=new FormData;t.append("title",s.value.title),t.append("description",s.value.description),t.append("price",s.value.price),t.append("image",s.value.image),t.append("email",s.value.email),t.append("hourly",s.value.hourly),t.append("start_date",s.value.start_date),t.append("end_date",s.value.end_date),t.append("phone",s.value.phone),t.append("enter_type",s.value.enter_type),t.append("user_id",s.value.user_id),t.append("currency_id",s.value.currency_id),t.append("place_link",s.value.place_link),t.append("demonstration_type_id",s.value.demonstration_type_id),t.append("demonstration_mode_id",s.value.demonstration_mode_id),t.append("demonstration_niche_id",s.value.demonstration_niche_id),t.append("city_id",s.value.city_id),t.append("zone_id",s.value.zone_id),t.append("continent_id",s.value.continent_id),t.append("country_id",s.value.country_id),t.append("ministry_id",s.value.ministry_id),t.append("activity_area_id",s.value.activity_area_id),t.append("_method","PUT"),await J(t,k.id),v.value==""&&z.push({name:"compte",params:{slug:q.slug,id:q.id}})},W=()=>{y.value=$.value.filter(t=>t.country_id==s.country_id),s.city_id=""},X=()=>{f.value=U.value.filter(t=>t.zone_id==s.zone_id),s.country_id="",s.city_id="",y.value=[]},Y=()=>{b.value=x.value.filter(t=>t.continent_id==s.continent_id),s.zone_id="",s.country_id="",s.city_id="",y.value=[],f.value=[]},ee=async()=>{s.value.image=w.value.files[0]};function te(t){return URL.createObjectURL(t)}function oe(t){return URL.revokeObjectURL(t)}return(t,a)=>{const se=C("Error"),ne=C("Spin");return r(),l("div",we,[o("div",xe,[o("h1",$e,n(t.$tc("edit",1))+" Evenement ",1)]),o("section",Ue,[i(v)!=""?(r(),le(se,{key:0},{default:ie(()=>[u(n(i(v)),1)]),_:1})):h("",!0),o("h1",Ve,n(t.$tc("edit",1))+" Evenement ",1),o("h2",qe,n(t.$t("good-msg-post"))+" ! ",1),o("form",{onSubmit:a[25]||(a[25]=ae(e=>Q(),["prevent"])),id:"demonstrationform",enctype:"multipart/form-data"},[o("div",Ce,[o("div",De,[o("label",ze,[u(n(t.$t("title"))+" ",1),Se]),d(o("input",{required:"","onUpdate:modelValue":a[0]||(a[0]=e=>i(s).title=e),maxlength:"50",type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,i(s).title]]),o("span",Re,n(i(s).title?i(s).title.length:0)+" of 50 Characters",1)]),o("div",Ee,[o("div",null,[o("label",Fe,[u(n(t.$t("event-type"))+" ",1),Le]),d(o("select",{required:"","onUpdate:modelValue":a[1]||(a[1]=e=>i(s).demonstration_type_id=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),l(c,null,_(i(P),e=>(r(),l("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(r(),l("span",Be,n(e.name_en),1)):t.$i18n.locale=="fr"?(r(),l("span",Me,n(e.name_fr),1)):t.$i18n.locale=="es"?(r(),l("span",Oe,n(e.name_es),1)):(r(),l("span",Ne,n(e.name_pt),1))],8,je))),128))],512),[[p,i(s).demonstration_type_id]])]),o("div",null,[o("label",Ze,[u(n(t.$t("event-mode"))+" ",1),Ie]),d(o("select",{required:"","onUpdate:modelValue":a[2]||(a[2]=e=>i(s).demonstration_mode_id=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),l(c,null,_(i(H),e=>(r(),l("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(r(),l("span",Pe,n(e.name_en),1)):t.$i18n.locale=="fr"?(r(),l("span",Ge,n(e.name_fr),1)):t.$i18n.locale=="es"?(r(),l("span",He,n(e.name_es),1)):(r(),l("span",Ke,n(e.name_pt),1))],8,Je))),128))],512),[[p,i(s).demonstration_mode_id]])]),o("div",null,[o("label",Te,[u(n(t.$t("continent"))+" ",1),Ae]),d(o("select",{required:"","onUpdate:modelValue":a[3]||(a[3]=e=>i(s).continent_id=e),onChange:a[4]||(a[4]=e=>Y()),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),l(c,null,_(i(j),e=>(r(),l("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(r(),l("span",We,n(e.name_en),1)):t.$i18n.locale=="fr"?(r(),l("span",Xe,n(e.name_fr),1)):t.$i18n.locale=="es"?(r(),l("span",Ye,n(e.name_es),1)):(r(),l("span",et,n(e.name_pt),1))],8,Qe))),128))],544),[[p,i(s).continent_id]])]),o("div",null,[o("label",tt,[u(n(t.$t("zoned"))+" ",1),ot]),d(o("select",{required:"","onUpdate:modelValue":a[5]||(a[5]=e=>i(s).zone_id=e),onChange:a[6]||(a[6]=e=>X()),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[b.value.length!=0?(r(!0),l(c,{key:0},_(b.value,e=>(r(),l("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(r(),l("span",nt,n(e.name_en),1)):t.$i18n.locale=="fr"?(r(),l("span",rt,n(e.name_fr),1)):t.$i18n.locale=="es"?(r(),l("span",lt,n(e.name_es),1)):(r(),l("span",it,n(e.name_pt),1))],8,st))),128)):(r(),l("option",at," Requires "+n(t.$t("continent")),1))],544),[[p,i(s).zone_id]])]),o("div",null,[o("label",dt,[u(n(t.$t("country"))+" ",1),ut]),d(o("select",{required:"",onChange:a[7]||(a[7]=e=>W()),"onUpdate:modelValue":a[8]||(a[8]=e=>i(s).country_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[f.value.length!=0?(r(!0),l(c,{key:0},_(f.value,e=>(r(),l("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(r(),l("span",ct,n(e.name_en),1)):t.$i18n.locale=="fr"?(r(),l("span",_t,n(e.name_fr),1)):t.$i18n.locale=="es"?(r(),l("span",mt,n(e.name_es),1)):(r(),l("span",yt,n(e.name_pt),1))],8,pt))),128)):(r(),l("option",ft," Requires "+n(t.$t("zoned")),1))],544),[[p,i(s).country_id]])]),o("div",null,[o("label",bt,[u(n(t.$t("city"))+" ",1),gt]),d(o("select",{required:"","onUpdate:modelValue":a[9]||(a[9]=e=>i(s).city_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[y.value.length!=0?(r(!0),l(c,{key:0},_(y.value,e=>(r(),l("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(r(),l("span",vt,n(e.name_en),1)):t.$i18n.locale=="fr"?(r(),l("span",kt,n(e.name_fr),1)):t.$i18n.locale=="es"?(r(),l("span",wt,n(e.name_es),1)):(r(),l("span",xt,n(e.name_pt),1))],8,ht))),128)):(r(),l("option",$t," Requires "+n(t.$t("country")),1))],512),[[p,i(s).city_id]])]),o("div",Ut,[o("label",Vt,n(t.$t("activity-area")),1),d(o("select",{"onUpdate:modelValue":a[10]||(a[10]=e=>i(s).activity_area_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),l(c,null,_(i(N),e=>(r(),l("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(r(),l("span",Ct,n(e.name_en),1)):t.$i18n.locale=="fr"?(r(),l("span",Dt,n(e.name_fr),1)):t.$i18n.locale=="es"?(r(),l("span",zt,n(e.name_es),1)):(r(),l("span",St,n(e.name_pt),1))],8,qt))),128))],512),[[p,i(s).activity_area_id]])]),o("div",Rt,[o("label",Et,n(t.$t("ministry")),1),d(o("select",{"onUpdate:modelValue":a[11]||(a[11]=e=>i(s).ministry_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),l(c,null,_(i(M),e=>(r(),l("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(r(),l("span",Lt,n(e.name_en),1)):t.$i18n.locale=="fr"?(r(),l("span",jt,n(e.name_fr),1)):t.$i18n.locale=="es"?(r(),l("span",Bt,n(e.name_es),1)):(r(),l("span",Mt,n(e.name_pt),1))],8,Ft))),128))],512),[[p,i(s).ministry_id]])]),o("div",Ot,[o("label",Nt,[u(n(t.$t("location-link"))+" ",1),Zt]),d(o("input",{required:"","onUpdate:modelValue":a[12]||(a[12]=e=>i(s).place_link=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,i(s).place_link]])]),o("div",It,[o("label",Jt,[u(n(t.$t("enter-type")),1),Pt]),d(o("select",{required:"","onUpdate:modelValue":a[13]||(a[13]=e=>i(s).enter_type=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},Kt,512),[[p,i(s).enter_type]])]),o("div",null,[o("label",Tt,n(t.$t("price")),1),d(o("input",{"onUpdate:modelValue":a[14]||(a[14]=e=>i(s).price=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,i(s).price]])]),o("div",null,[o("label",At,n(t.$t("currency")),1),d(o("select",{"onUpdate:modelValue":a[15]||(a[15]=e=>i(s).currency_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),l(c,null,_(i(F),e=>(r(),l("option",{key:e.id,value:e.id},n(e.symbol+" "+e.name),9,Qt))),128))],512),[[p,i(s).currency_id]])]),o("div",null,[o("label",Wt,[u(n(t.$t("start-date"))+" ",1),Xt]),d(o("input",{"onUpdate:modelValue":a[16]||(a[16]=e=>i(s).start_date=e),type:"date",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,i(s).start_date]])]),o("div",null,[o("label",Yt,[u(n(t.$t("end-date"))+" ",1),eo]),d(o("input",{"onUpdate:modelValue":a[17]||(a[17]=e=>i(s).end_date=e),type:"date",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,i(s).end_date]])]),o("div",null,[o("label",to,[u(n(t.$t("niche"))+" ",1),oo]),d(o("select",{required:"","onUpdate:modelValue":a[18]||(a[18]=e=>i(s).demonstration_niche_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),l(c,null,_(i(T),e=>(r(),l("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(r(),l("span",no,n(e.name_en),1)):t.$i18n.locale=="fr"?(r(),l("span",ro,n(e.name_fr),1)):t.$i18n.locale=="es"?(r(),l("span",lo,n(e.name_es),1)):(r(),l("span",io,n(e.name_pt),1))],8,so))),128))],512),[[p,i(s).demonstration_niche_id]])]),o("div",null,[o("label",ao,[u(n(t.$t("hour"))+" ",1),uo]),d(o("input",{"onUpdate:modelValue":a[19]||(a[19]=e=>i(s).hourly=e),type:"time",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,i(s).hourly]])]),o("div",null,[o("label",po,[u(n(t.$t("contact-phone"))+" ",1),co]),d(o("input",{required:"","onUpdate:modelValue":a[20]||(a[20]=e=>i(s).phone=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,i(s).phone]])]),o("div",null,[o("label",_o,[u(n(t.$t("contact-email"))+" ",1),mo]),d(o("input",{required:"","onUpdate:modelValue":a[21]||(a[21]=e=>i(s).email=e),type:"email",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,i(s).email]])])]),o("div",yo,[o("label",fo,n(t.$t("thumbnails")),1),o("div",bo,[i(s).image?(r(),l("img",{key:0,src:typeof i(s).image=="string"?i(s).image:te(i(s).image),onLoad:a[22]||(a[22]=e=>typeof i(s).image=="string"?"":oe(i(s).image)),class:"h-16 w-16 rounded-full",alt:i(s).title},null,40,go)):h("",!0),o("input",{ref_key:"file",ref:w,onChange:a[23]||(a[23]=e=>ee()),accept:"image/*",type:"file",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544)])]),o("div",ho,[o("label",vo,[u(n(t.$t("description"))+" ",1),ko]),d(o("textarea",{required:"",type:"text","onUpdate:modelValue":a[24]||(a[24]=e=>i(s).description=e),id:"pt",class:"mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`\r
                        `,512),[[m,i(s).description]])])]),o("div",wo,[i(V)==0?(r(),l("button",xo,n(t.$t("save")),1)):h("",!0),i(V)==1?(r(),l("button",$o,[de(ne,{size:"small"})])):h("",!0)])],32)])])}}};export{Bo as default};
