import{r as l,o as J,a as K,c as n,d as s,e,g as u,k as L,w as C,h as O,t as a,P,m,l as R,j as c,K as G,J as f,F as _,x as g,f as z,T as H,I as Q,b as W}from"./app.a6e0b7af.js";import{u as X}from"./universityServices.28e4a053.js";import{u as Y}from"./continentServices.7d39236e.js";import{u as ee}from"./countryServices.205b0384.js";import{u as te}from"./cityServices.ba8ce71b.js";import{u as oe}from"./zoneServices.558e62e1.js";const re={class:"relative min-h-screen w-full bg-white xl:mt-0 xl:p-4"},ne={class:"z-0 w-full p-4"},se=e("div",{class:"flex w-full justify-between bg-white px-8 py-5"},[e("h1",{class:"text-4xl font-bold capitalize text-primary-blue"}," Add University ")],-1),ie={class:"mx-auto w-full bg-white p-6"},ae=e("h2",{class:"text-md font-light text-gray-700"}," Add a new University ",-1),le={class:"mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},de={class:"col-span-2"},ue=e("label",{class:"dark:text-gray-200 text-gray-700"},"Name",-1),ce=e("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Continent",-1),ye=["value"],pe=e("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Zone",-1),me=["value"],fe={key:1,value:"null"},_e=e("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Country",-1),ge=["value"],be={key:1,value:"null"},ve={class:""},xe=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"City",-1),he=["value"],ke={key:1,value:"null"},we={class:"col-span-2"},Ce=e("label",{class:"dark:text-gray-200 text-gray-700",for:"fr"},"Image",-1),ze={class:"col-span-2"},Ue=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"Description",-1),Se={class:"mt-6 flex flex-col items-end justify-end"},Ve={key:0,type:"submit",class:"rounded bg-primary-blue px-6 py-2 leading-5 text-white focus:outline-none"},qe={key:1,type:"submit",disabled:"",class:"rounded bg-blue-300 px-6 py-2 leading-5 text-white focus:outline-none"},Fe={key:0,class:"text-xs font-light italic"},Ze={__name:"UniversityCreate",setup(je){const U=Q(),{continents:S,getContinents:V}=Y(),{countries:q,getCountries:F}=ee(),{cities:j,getCities:D}=te(),{zones:N,getZones:$}=oe(),y=l(""),b=l(""),v=l(0);J(async()=>{sceditor.create(y.value,{format:"xhtml",style:"https://cdn.jsdelivr.net/npm/sceditor@3/minified/themes/content/default.min.css",height:400,toolbarExclude:"indent,outdent,email,date,time,ltr,rtl,print,subscript,superscript,table,code,quote,emoticon",icons:"material"}),y.value.value=="",v.value++,await $(),await V(),await F(),await D()});const t=K({name:"",description:"",image:"",continent_id:"",country_id:"",city_id:"",zone_id:""}),x=l([]),p=l([]),k=l(null),d=l([]),B=()=>{d.value=j.value.filter(r=>r.country_id==t.country_id),t.city_id=""},M=()=>{p.value=q.value.filter(r=>r.zone_id==t.zone_id),t.country_id="",t.city_id="",d.value=[]},T=()=>{x.value=N.value.filter(r=>r.continent_id==t.continent_id),t.zone_id="",t.country_id="",t.city_id="",d.value=[],p.value=[]},{createUniversity:Z,errors:h,loading:w}=X(),E=async()=>{if(t.description=y.value.value,v.value==1){v.value++,b.value="please click again";return}let r=new FormData;r.append("image",t.image),r.append("name",t.name),r.append("description",t.description),r.append("continent_id",t.continent_id),r.append("country_id",t.country_id),r.append("city_id",t.city_id),r.append("zone_id",t.zone_id),await Z(r),h.value==""&&U.push({name:"admin.university.index"})},A=async()=>{t.image=k.value.files[0]};return(r,i)=>{const I=W("Spin");return n(),s("div",re,[e("div",ne,[se,e("section",ie,[u(h)!=""?(n(),L(P,{key:0},{default:C(()=>[O(a(u(h)),1)]),_:1})):m("",!0),ae,e("form",{onSubmit:i[6]||(i[6]=R(o=>E(),["prevent"])),id:"universityform",enctype:"multipart/form-data"},[e("div",le,[e("div",de,[ue,c(e("input",{required:"","onUpdate:modelValue":i[0]||(i[0]=o=>t.name=o),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[G,t.name]])]),e("div",null,[ce,c(e("select",{required:"",onChange:T,"onUpdate:modelValue":i[1]||(i[1]=o=>t.continent_id=o),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),s(_,null,g(u(S),o=>(n(),s("option",{key:o.id,value:o.id},a(o.name_en),9,ye))),128))],544),[[f,t.continent_id]])]),e("div",null,[pe,c(e("select",{required:"","onUpdate:modelValue":i[2]||(i[2]=o=>t.zone_id=o),onChange:M,class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[x.value.length!=0?(n(!0),s(_,{key:0},g(x.value,o=>(n(),s("option",{key:o.id,value:o.id},a(o.name_en),9,me))),128)):(n(),s("option",fe," Select "+a(r.$t("continent")),1))],544),[[f,t.zone_id]])]),e("div",null,[_e,c(e("select",{required:"",onChange:B,"onUpdate:modelValue":i[3]||(i[3]=o=>t.country_id=o),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[p.value.length!=0?(n(!0),s(_,{key:0},g(p.value,o=>(n(),s("option",{key:o.id,value:o.id},a(o.name_en),9,ge))),128)):(n(),s("option",be," Select "+a(r.$t("zoned")),1))],544),[[f,t.country_id]])]),e("div",ve,[xe,c(e("select",{required:"","onUpdate:modelValue":i[4]||(i[4]=o=>t.city_id=o),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[d.value.length!=0?(n(!0),s(_,{key:0},g(d.value,o=>(n(),s("option",{key:o.id,value:o.id},a(o.name_en),9,he))),128)):(n(),s("option",ke," Select "+a(r.$t("country")),1))],512),[[f,t.city_id]])]),e("div",we,[Ce,e("input",{required:"",ref_key:"file",ref:k,onChange:i[5]||(i[5]=o=>A()),type:"file",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544)]),e("div",ze,[Ue,e("textarea",{required:"",ref_key:"textarea",ref:y,class:"h-96 w-full"},`\r
                            `,512)])]),e("div",Se,[u(w)==0?(n(),s("button",Ve," Save ")):m("",!0),u(w)==1?(n(),s("button",qe,[z(I,{size:"small"})])):m("",!0),z(H,{"enter-active-class":" transition-all  ","enter-from-class":" opacity-0  -translate-y-10","enter-to-class":"  opacity-1 translate-y-0","leave-active-class":"","leave-from-class":"","leave-to-class":""},{default:C(()=>[b.value!=""?(n(),s("span",Fe,a(b.value),1)):m("",!0)]),_:1})])],32)])])])}}};export{Ze as default};
