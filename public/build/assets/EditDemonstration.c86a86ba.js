import{r as b,o as te,c as r,d as i,e as o,t as n,g as l,k as oe,w as se,h as u,m as h,l as ne,j as d,K as c,J as p,F as m,x as _,f as le,H as re,b as q}from"./app.5804264a.js";import{u as ie}from"./zoneServices.d0d4583e.js";import{u as ae}from"./cityServices.43753766.js";import{u as de}from"./countryServices.e5be4277.js";import{u as ue}from"./currencyServices.91c9797d.js";import{u as ce}from"./continentServices.5fff2b65.js";import{u as pe}from"./demonstrationServices.f195c118.js";import{u as me}from"./demonstrationModeServices.2f1ea9ec.js";import{u as _e}from"./demonstrationTypeServices.9568ed75.js";import{u as ye}from"./demonstrationNicheServices.be828415.js";const fe={class:"mx-auto min-h-screen w-full bg-white py-4 lg:px-20 xl:w-[90%]"},ge={class:"w-full space-y-4 py-5 text-center"},be={class:"text-4xl font-bold capitalize text-primary-blue"},he={class:"mx-auto w-full rounded-md bg-white p-6 shadow-xl"},ve={class:"text-xl font-semibold"},ke={class:"text-md font-light text-gray-700"},we={class:"mt-4"},xe={class:"col-span-2"},$e={class:"text-gray-700"},Ue=o("span",{class:"text-red-500"},"*",-1),Ve={class:"text-xs font-light text-gray-400"},Ce={class:"col-span-2 mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},qe={class:"text-gray-700",for:"pt"},De=o("span",{class:"text-red-500"},"*",-1),Se=["value"],ze={key:0},Ee={key:1},Fe={key:2},Le={key:3},je={class:"text-gray-700",for:"pt"},Re=o("span",{class:"text-red-500"},"*",-1),Be=["value"],Oe={key:0},Ne={key:1},Ze={key:2},Ie={key:3},Je={class:"text-gray-700",for:"es"},Me=o("span",{class:"text-red-500"},"*",-1),Pe=["value"],Ge={key:0},He={key:1},Ke={key:2},Te={key:3},Ae={class:"text-gray-700",for:"es"},Qe=o("span",{class:"text-red-500"},"*",-1),We=["value"],Xe={key:0},Ye={key:1},et={key:2},tt={key:3},ot={key:1,value:"null"},st={class:"text-gray-700",for:"es"},nt=o("span",{class:"text-red-500"},"*",-1),lt=["value"],rt={key:0},it={key:1},at={key:2},dt={key:3},ut={key:1,value:"null"},ct={class:"d text-gray-700",for:"es"},pt=o("span",{class:"text-red-500"},"*",-1),mt=["value"],_t={key:0},yt={key:1},ft={key:2},gt={key:3},bt={key:1,value:"null"},ht={class:"sm:col-span-2"},vt={class:"text-gray-700",for:"pt"},kt=o("span",{class:"text-red-500"},"*",-1),wt={class:"sm:col-span-2"},xt={class:"text-gray-700"},$t=o("span",{class:"text-red-500"},"*",-1),Ut=o("option",{value:"free"},"Gratuit",-1),Vt=o("option",{value:"paying"},"Payant",-1),Ct=[Ut,Vt],qt={class:"text-gray-700"},Dt={class:"text-gray-700",for:"es"},St=["value"],zt={class:"text-gray-700"},Et=o("span",{class:"text-red-500"},"*",-1),Ft={class:"text-gray-700"},Lt=o("span",{class:"text-red-500"},"*",-1),jt={class:"text-gray-700"},Rt=o("span",{class:"text-red-500"},"*",-1),Bt=["value"],Ot={key:0},Nt={key:1},Zt={key:2},It={key:3},Jt={class:"text-gray-700"},Mt=o("span",{class:"text-red-500"},"*",-1),Pt={class:"text-gray-700"},Gt=o("span",{class:"text-red-500"},"*",-1),Ht={class:"text-gray-700"},Kt=o("span",{class:"text-red-500"},"*",-1),Tt={class:"sm:col-span-2 mt-4"},At={class:"text-gray-700",for:"fr"},Qt={class:"flex items-center space-x-4 py-4"},Wt=["src","alt"],Xt={class:"sm:col-span-2 mt-4"},Yt={class:"text-gray-700",for:"pt"},eo=o("span",{class:"text-red-500"},"*",-1),to={class:"mt-6"},oo={key:0,type:"submit",class:"text-md w-full rounded bg-primary-blue px-6 py-4 leading-5 text-white focus:outline-none"},so={key:1,type:"submit",disabled:"",class:"text-md flex w-full items-center justify-center rounded bg-blue-300 px-6 py-4 leading-5 text-white focus:outline-none"},yo={__name:"EditDemonstration",props:{id:{required:!0,type:String}},setup(D){const k=D,w=b(null),S=re(),y=b([]),g=b([]),f=b([]),{zones:x,getZones:z}=ie(),{cities:$,getCities:E}=ae(),{countries:U,getCountries:F}=de(),{currencies:L,getCurrencies:j}=ue(),{continents:R,getContinents:B}=ce(),{errors:v,loading:V,demonstration:s,getDemonstration:O,updateDemonstration:N}=pe(),{demonstrationTypes:Z,getDemonstrationTypes:I}=_e(),{demonstrationModes:J,getDemonstrationModes:M}=me(),{demonstrationNiches:P,getDemonstrationNiches:G}=ye(),C=localStorage.user?JSON.parse(localStorage.user):"";te(async()=>{await O(k.id),await I(),await M(),await G(),await j(),await B(),await z(),await F(),await E(),g.value=x.value.filter(t=>t.continent_id==s.value.continent_id),f.value=U.value.filter(t=>t.zone_id==s.value.zone_id),y.value=$.value.filter(t=>t.country_id==s.value.country_id)});const H=async()=>{let t=new FormData;t.append("title",s.value.title),t.append("description",s.value.description),t.append("price",s.value.price),t.append("image",s.value.image),t.append("email",s.value.email),t.append("hourly",s.value.hourly),t.append("start_date",s.value.start_date),t.append("end_date",s.value.end_date),t.append("phone",s.value.phone),t.append("enter_type",s.value.enter_type),t.append("user_id",s.value.user_id),t.append("currency_id",s.value.currency_id),t.append("place_link",s.value.place_link),t.append("demonstration_type_id",s.value.demonstration_type_id),t.append("demonstration_mode_id",s.value.demonstration_mode_id),t.append("demonstration_niche_id",s.value.demonstration_niche_id),t.append("city_id",s.value.city_id),t.append("zone_id",s.value.zone_id),t.append("continent_id",s.value.continent_id),t.append("country_id",s.value.country_id),t.append("_method","PUT"),await N(t,k.id),v.value==""&&S.push({name:"compte",params:{slug:C.slug,id:C.id}})},K=()=>{y.value=$.value.filter(t=>t.country_id==s.country_id),s.city_id=""},T=()=>{f.value=U.value.filter(t=>t.zone_id==s.zone_id),s.country_id="",s.city_id="",y.value=[]},A=()=>{g.value=x.value.filter(t=>t.continent_id==s.continent_id),s.zone_id="",s.country_id="",s.city_id="",y.value=[],f.value=[]},Q=async()=>{s.value.image=w.value.files[0]};function W(t){return URL.createObjectURL(t)}function X(t){return URL.revokeObjectURL(t)}return(t,a)=>{const Y=q("Error"),ee=q("Spin");return r(),i("div",fe,[o("div",ge,[o("h1",be,n(t.$tc("edit",1))+" Evenement ",1)]),o("section",he,[l(v)!=""?(r(),oe(Y,{key:0},{default:se(()=>[u(n(l(v)),1)]),_:1})):h("",!0),o("h1",ve,n(t.$tc("edit",1))+" Evenement ",1),o("h2",ke,n(t.$t("good-msg-post"))+" ! ",1),o("form",{onSubmit:a[23]||(a[23]=ne(e=>H(),["prevent"])),id:"demonstrationform",enctype:"multipart/form-data"},[o("div",we,[o("div",xe,[o("label",$e,[u(n(t.$t("title"))+" ",1),Ue]),d(o("input",{required:"","onUpdate:modelValue":a[0]||(a[0]=e=>l(s).title=e),maxlength:"50",type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,l(s).title]]),o("span",Ve,n(l(s).title?l(s).title.length:0)+" of 50 Characters",1)]),o("div",Ce,[o("div",null,[o("label",qe,[u(n(t.$t("event-type"))+" ",1),De]),d(o("select",{required:"","onUpdate:modelValue":a[1]||(a[1]=e=>l(s).demonstration_type_id=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),i(m,null,_(l(Z),e=>(r(),i("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(r(),i("span",ze,n(e.name_en),1)):t.$i18n.locale=="fr"?(r(),i("span",Ee,n(e.name_fr),1)):t.$i18n.locale=="es"?(r(),i("span",Fe,n(e.name_es),1)):(r(),i("span",Le,n(e.name_pt),1))],8,Se))),128))],512),[[p,l(s).demonstration_type_id]])]),o("div",null,[o("label",je,[u(n(t.$t("event-mode"))+" ",1),Re]),d(o("select",{required:"","onUpdate:modelValue":a[2]||(a[2]=e=>l(s).demonstration_mode_id=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),i(m,null,_(l(J),e=>(r(),i("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(r(),i("span",Oe,n(e.name_en),1)):t.$i18n.locale=="fr"?(r(),i("span",Ne,n(e.name_fr),1)):t.$i18n.locale=="es"?(r(),i("span",Ze,n(e.name_es),1)):(r(),i("span",Ie,n(e.name_pt),1))],8,Be))),128))],512),[[p,l(s).demonstration_mode_id]])]),o("div",null,[o("label",Je,[u(n(t.$t("continent"))+" ",1),Me]),d(o("select",{required:"","onUpdate:modelValue":a[3]||(a[3]=e=>l(s).continent_id=e),onChange:a[4]||(a[4]=e=>A()),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),i(m,null,_(l(R),e=>(r(),i("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(r(),i("span",Ge,n(e.name_en),1)):t.$i18n.locale=="fr"?(r(),i("span",He,n(e.name_fr),1)):t.$i18n.locale=="es"?(r(),i("span",Ke,n(e.name_es),1)):(r(),i("span",Te,n(e.name_pt),1))],8,Pe))),128))],544),[[p,l(s).continent_id]])]),o("div",null,[o("label",Ae,[u(n(t.$t("zoned"))+" ",1),Qe]),d(o("select",{required:"","onUpdate:modelValue":a[5]||(a[5]=e=>l(s).zone_id=e),onChange:a[6]||(a[6]=e=>T()),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[g.value.length!=0?(r(!0),i(m,{key:0},_(g.value,e=>(r(),i("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(r(),i("span",Xe,n(e.name_en),1)):t.$i18n.locale=="fr"?(r(),i("span",Ye,n(e.name_fr),1)):t.$i18n.locale=="es"?(r(),i("span",et,n(e.name_es),1)):(r(),i("span",tt,n(e.name_pt),1))],8,We))),128)):(r(),i("option",ot," Select "+n(t.$t("continent")),1))],544),[[p,l(s).zone_id]])]),o("div",null,[o("label",st,[u(n(t.$t("country"))+" ",1),nt]),d(o("select",{required:"",onChange:a[7]||(a[7]=e=>K()),"onUpdate:modelValue":a[8]||(a[8]=e=>l(s).country_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[f.value.length!=0?(r(!0),i(m,{key:0},_(f.value,e=>(r(),i("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(r(),i("span",rt,n(e.name_en),1)):t.$i18n.locale=="fr"?(r(),i("span",it,n(e.name_fr),1)):t.$i18n.locale=="es"?(r(),i("span",at,n(e.name_es),1)):(r(),i("span",dt,n(e.name_pt),1))],8,lt))),128)):(r(),i("option",ut," Select "+n(t.$t("zoned")),1))],544),[[p,l(s).country_id]])]),o("div",null,[o("label",ct,[u(n(t.$t("city"))+" ",1),pt]),d(o("select",{required:"","onUpdate:modelValue":a[9]||(a[9]=e=>l(s).city_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[y.value.length!=0?(r(!0),i(m,{key:0},_(y.value,e=>(r(),i("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(r(),i("span",_t,n(e.name_en),1)):t.$i18n.locale=="fr"?(r(),i("span",yt,n(e.name_fr),1)):t.$i18n.locale=="es"?(r(),i("span",ft,n(e.name_es),1)):(r(),i("span",gt,n(e.name_pt),1))],8,mt))),128)):(r(),i("option",bt," Select "+n(t.$t("country")),1))],512),[[p,l(s).city_id]])]),o("div",ht,[o("label",vt,[u(n(t.$t("location-link"))+" ",1),kt]),d(o("input",{required:"","onUpdate:modelValue":a[10]||(a[10]=e=>l(s).place_link=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,l(s).place_link]])]),o("div",wt,[o("label",xt,[u(n(t.$t("enter-type")),1),$t]),d(o("select",{required:"","onUpdate:modelValue":a[11]||(a[11]=e=>l(s).enter_type=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},Ct,512),[[p,l(s).enter_type]])]),o("div",null,[o("label",qt,n(t.$t("price")),1),d(o("input",{"onUpdate:modelValue":a[12]||(a[12]=e=>l(s).price=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,l(s).price]])]),o("div",null,[o("label",Dt,n(t.$t("currency")),1),d(o("select",{"onUpdate:modelValue":a[13]||(a[13]=e=>l(s).currency_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),i(m,null,_(l(L),e=>(r(),i("option",{key:e.id,value:e.id},n(e.symbol+" "+e.name),9,St))),128))],512),[[p,l(s).currency_id]])]),o("div",null,[o("label",zt,[u(n(t.$t("start-date"))+" ",1),Et]),d(o("input",{"onUpdate:modelValue":a[14]||(a[14]=e=>l(s).start_date=e),type:"date",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,l(s).start_date]])]),o("div",null,[o("label",Ft,[u(n(t.$t("end-date"))+" ",1),Lt]),d(o("input",{"onUpdate:modelValue":a[15]||(a[15]=e=>l(s).end_date=e),type:"date",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,l(s).end_date]])]),o("div",null,[o("label",jt,[u(n(t.$t("niche"))+" ",1),Rt]),d(o("select",{required:"","onUpdate:modelValue":a[16]||(a[16]=e=>l(s).demonstration_niche_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),i(m,null,_(l(P),e=>(r(),i("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(r(),i("span",Ot,n(e.name_en),1)):t.$i18n.locale=="fr"?(r(),i("span",Nt,n(e.name_fr),1)):t.$i18n.locale=="es"?(r(),i("span",Zt,n(e.name_es),1)):(r(),i("span",It,n(e.name_pt),1))],8,Bt))),128))],512),[[p,l(s).demonstration_niche_id]])]),o("div",null,[o("label",Jt,[u(n(t.$t("hour"))+" ",1),Mt]),d(o("input",{"onUpdate:modelValue":a[17]||(a[17]=e=>l(s).hourly=e),type:"time",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,l(s).hourly]])]),o("div",null,[o("label",Pt,[u(n(t.$t("contact-phone"))+" ",1),Gt]),d(o("input",{required:"","onUpdate:modelValue":a[18]||(a[18]=e=>l(s).phone=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,l(s).phone]])]),o("div",null,[o("label",Ht,[u(n(t.$t("contact-email"))+" ",1),Kt]),d(o("input",{required:"","onUpdate:modelValue":a[19]||(a[19]=e=>l(s).email=e),type:"email",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,l(s).email]])])]),o("div",Tt,[o("label",At,n(t.$t("thumbnails")),1),o("div",Qt,[l(s).image?(r(),i("img",{key:0,src:typeof l(s).image=="string"?l(s).image:W(l(s).image),onLoad:a[20]||(a[20]=e=>typeof l(s).image=="string"?"":X(l(s).image)),class:"h-16 w-16 rounded-full",alt:l(s).title},null,40,Wt)):h("",!0),o("input",{ref_key:"file",ref:w,onChange:a[21]||(a[21]=e=>Q()),accept:"image/*",type:"file",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544)])]),o("div",Xt,[o("label",Yt,[u(n(t.$t("description"))+" ",1),eo]),d(o("textarea",{required:"",type:"text","onUpdate:modelValue":a[22]||(a[22]=e=>l(s).description=e),id:"pt",class:"mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`\r
                        `,512),[[c,l(s).description]])])]),o("div",to,[l(V)==0?(r(),i("button",oo,n(t.$t("save")),1)):h("",!0),l(V)==1?(r(),i("button",so,[le(ee,{size:"small"})])):h("",!0)])],32)])])}}};export{yo as default};
