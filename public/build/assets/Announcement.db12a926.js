import{c as l,d as r,e as o,F as u,x as c,f as d,g as n,L as W,r as p,o as X,M as Y,a as ee,t as i,j as g,K as te,J as b,_ as se,k as oe,w as $,m,h as le,b as re}from"./app.45c9c1ea.js";import{u as ie}from"./announcementServices.f0479202.js";import{u as ae}from"./universityServices.9d9e034d.js";import{u as ne}from"./categoryAnnouncementServices.e1e07e65.js";import{u as de}from"./continentServices.7b53bf4e.js";import{u as ue}from"./countryServices.40acb1e6.js";import{u as ce}from"./cityServices.60f8e1ce.js";import{u as ye}from"./zoneServices.f3fc5d70.js";import{r as pe}from"./PhotoIcon.b14bd024.js";import{r as ge}from"./PlusCircleIcon.a5e331a6.js";import{r as me}from"./MegaphoneIcon.5cf9c9c1.js";import{r as _e}from"./UserIcon.fd318caf.js";import{r as fe}from"./FaceFrownIcon.27f13efd.js";const ve={class:"animate-pulse"},he={class:"grid grid-cols-1 gap-4 py-8 px-10 md:grid-cols-3"},be={class:"mx-auto h-44 w-32 overflow-hidden"},xe=W('<div class="flex flex-col items-start justify-center p-6"><div class="mb-4 h-5 w-32 rounded-md bg-gray-200"></div><div class="mb-4 h-2.5 w-5/6 rounded-full bg-gray-200"></div><div class="flex w-full items-center justify-between"><div class="mb-4 h-2.5 w-1/5 rounded-full bg-gray-200"></div><div class="mb-4 h-2.5 w-3/5 rounded-full bg-gray-200"></div></div></div>',1),F={__name:"Ads",setup(K){const y=[1,2,3,4];return(S,x)=>(l(),r("div",ve,[o("div",he,[(l(),r(u,null,c(y,_=>o("div",{key:_,class:"rounded bg-gray-100 shadow"},[o("div",be,[d(n(pe),{class:"h-full w-full text-gray-200"})]),xe])),64))])]))}},we={class:"mx-auto min-h-screen w-full bg-white xl:w-[90%]"},ke={class:"py-2 text-center text-5xl font-bold capitalize text-primary-blue"},$e={class:"py-8 lg:px-16"},ze={class:"mt-4 grid grid-cols-1 gap-2 bg-gray-50 px-10 pb-8 pt-4 shadow lg:grid-cols-3"},Ce={class:"text-xs lg:text-sm"},Ae={class:"dark:text-gray-200 text-gray-700"},Ve={class:"text-xs lg:text-sm"},Se={class:"text-gray-700",for:"es"},Ue=o("option",{value:""},"--------------",-1),je=["value"],Ne={class:"text-xs lg:text-sm"},Fe={class:"text-gray-700",for:"es"},Ke=o("option",{value:""},"--------------",-1),Be=["value"],Le={key:0},Me={key:1},Ee={key:2},Ze={key:3},De={class:"text-xs lg:text-sm"},Je={class:"text-gray-700",for:"es"},Te=o("option",{value:""},"--------------",-1),qe=["value"],Ge={key:0},He={key:1},Oe={key:2},Re={key:3},Ie={key:1,value:"null"},Pe={class:"text-xs lg:text-sm"},Qe={class:"text-gray-700",for:"es"},We=o("option",{value:""},"--------------",-1),Xe=["value"],Ye={key:0},et={key:1},tt={key:2},st={key:3},ot={key:1,value:"null"},lt={class:"text-xs lg:text-sm"},rt={class:"text-gray-700",for:"es"},it=o("option",{value:""},"--------------",-1),at=["value"],nt={key:0},dt={key:1},ut={key:2},ct={key:3},yt={key:1,value:"null"},pt={class:"divSelect2 text-xs lg:text-sm"},gt={class:"text-gray-700",for:"es"},mt={class:"flex items-end text-xs lg:text-sm"},_t=o("div",{class:"bg-primary-blue p-2 shadow"},null,-1),ft={class:"flex justify-end py-4"},vt={class:"text-base leading-4"},ht={class:"py-8"},bt={key:0},xt={class:"relative"},wt={key:0,class:"absolute top-5 right-5 z-10 flex h-8 w-8 items-center justify-center rounded-full bg-black/50 p-2 text-center text-sm text-white"},kt=["src","alt"],$t={key:2,class:"h-48 w-full overflow-hidden rounded-t-lg bg-gray-50 py-10"},zt={class:"space-y-2 px-4 py-2"},Ct={href:"#",class:"mt-2 rounded bg-primary-blue py-1 px-2 text-xs capitalize text-white"},At={class:"text-2xl font-bold capitalize text-gray-800 hover:underline"},Vt={class:"dark:text-gray-400 mt-2 text-sm text-gray-600"},St={class:"flex h-10 items-center justify-between bg-gray-900 px-4 py-2"},Ut={key:0,class:"text-lg font-bold text-white"},jt={class:"flex items-center space-x-2 text-xs text-white"},Nt={class:"flex space-x-1"},Ft={key:2},Kt={key:3,class:"flex animate-pulse flex-col items-center justify-center p-28 text-gray-500"},Bt={class:"mt-2 text-2xl"},Pt={__name:"Announcement",setup(K){const{universities:y,getAllUniversities:S}=ae(),{announcements:x,getAnnouncements:_,loading:f,page:z,isAll:U,filterAnnouncements:B}=ie(),{continents:L,getContinents:M}=de(),{countries:E,getCountries:Z}=ue(),{categoryAnnouncements:D,getCategoryAnnouncements:J}=ne(),{zones:T,getZones:q}=ye(),{cities:G,getCities:H}=ce(),j=localStorage.user?JSON.parse(localStorage.user):"",C=p([]),w=p([]),v=p([]),h=p([]),A=p(null),V=p(!0);X(async()=>{window.addEventListener("scroll",N),await _(),await M(),await q(),await Z(),await J(),await H(),S()}),Y(async()=>{z.value=1,window.removeEventListener("scroll",N)});const N=async s=>{A.value&&A.value.getBoundingClientRect().bottom<window.innerHeight&&V.value&&!U.value&&t.searchKey==""&&t.category==""&&t.country==""&&t.continent==""&&t.university==""&&t.city==""&&t.zone==""&&(V.value=!1,z.value++,await _(),V.value=!0)},O=async()=>{t.searchKey!=""||t.category!=""||t.country!=""||t.continent!=""||t.university!=""||t.city!=""||t.zone!=""?(f.value=1,await B({...t}),f.value=2):(z.value=1,U.value=!1,await _())},t=ee({searchKey:"",category:"",country:"",continent:"",university:"",city:"",zone:""}),R=()=>{h.value=y.value.filter(s=>s.continent.id==t.continent&&s.zone.id==t.zone&&s.country.id==t.country&&s.city.id==t.city)},I=()=>{v.value=G.value.filter(s=>s.country_id==t.country),h.value=y.value.filter(s=>s.continent.id==t.continent&&s.zone.id==t.zone&&s.country.id==t.country),t.city=""},P=()=>{w.value=E.value.filter(s=>s.zone_id==t.zone),h.value=y.value.filter(s=>s.continent.id==t.continent&&s.zone.id==t.zone),t.country="",t.city="",v.value=[]},Q=()=>{C.value=T.value.filter(s=>s.continent_id==t.continent),h.value=y.value.filter(s=>s.continent.id==t.continent),t.zone="",t.country="",t.city="",v.value=[],w.value=[]};return(s,a)=>{const k=re("router-link");return l(),r("div",we,[o("h1",ke,i(s.$t("ads")),1),o("div",$e,[o("div",ze,[o("div",Ce,[o("label",Ae,i(s.$t("key-words")),1),g(o("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>t.searchKey=e),class:"form-input mt-2 block w-full rounded-md border border-gray-200 bg-white px-3 pr-2 text-gray-700 placeholder:text-gray-400 focus:border-primary-blue focus:ring-primary-blue"},null,512),[[te,t.searchKey]])]),o("div",Ve,[o("label",Se,i(s.$t("category")),1),g(o("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>t.category=e),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[Ue,(l(!0),r(u,null,c(n(D),e=>(l(),r("option",{key:e.id,value:e.id},i(e.name),9,je))),128))],512),[[b,t.category]])]),o("div",Ne,[o("label",Fe,i(s.$t("continent")),1),g(o("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>t.continent=e),onChange:a[3]||(a[3]=e=>Q()),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[Ke,(l(!0),r(u,null,c(n(L),e=>(l(),r("option",{key:e.id,value:e.id},[s.$i18n.locale=="en"?(l(),r("span",Le,i(e.name_en),1)):s.$i18n.locale=="fr"?(l(),r("span",Me,i(e.name_fr),1)):s.$i18n.locale=="es"?(l(),r("span",Ee,i(e.name_es),1)):(l(),r("span",Ze,i(e.name_pt),1))],8,Be))),128))],544),[[b,t.continent]])]),o("div",De,[o("label",Je,i(s.$t("zoned")),1),g(o("select",{"onUpdate:modelValue":a[4]||(a[4]=e=>t.zone=e),onChange:a[5]||(a[5]=e=>P()),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[Te,C.value.length!=0?(l(!0),r(u,{key:0},c(C.value,e=>(l(),r("option",{key:e.id,value:e.id},[s.$i18n.locale=="en"?(l(),r("span",Ge,i(e.name_en),1)):s.$i18n.locale=="fr"?(l(),r("span",He,i(e.name_fr),1)):s.$i18n.locale=="es"?(l(),r("span",Oe,i(e.name_es),1)):(l(),r("span",Re,i(e.name_pt),1))],8,qe))),128)):(l(),r("option",Ie," Select "+i(s.$t("continent")),1))],544),[[b,t.zone]])]),o("div",Pe,[o("label",Qe,i(s.$t("country")),1),g(o("select",{"onUpdate:modelValue":a[6]||(a[6]=e=>t.country=e),onChange:a[7]||(a[7]=e=>I()),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[We,w.value.length!=0?(l(!0),r(u,{key:0},c(w.value,e=>(l(),r("option",{key:e.id,value:e.id},[s.$i18n.locale=="en"?(l(),r("span",Ye,i(e.name_en),1)):s.$i18n.locale=="fr"?(l(),r("span",et,i(e.name_fr),1)):s.$i18n.locale=="es"?(l(),r("span",tt,i(e.name_es),1)):(l(),r("span",st,i(e.name_pt),1))],8,Xe))),128)):(l(),r("option",ot," Select "+i(s.$t("zoned")),1))],544),[[b,t.country]])]),o("div",lt,[o("label",rt,i(s.$t("city")),1),g(o("select",{"onUpdate:modelValue":a[8]||(a[8]=e=>t.city=e),onChange:a[9]||(a[9]=e=>R()),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[it,v.value.length!=0?(l(!0),r(u,{key:0},c(v.value,e=>(l(),r("option",{key:e.id,value:e.id},[s.$i18n.locale=="en"?(l(),r("span",nt,i(e.name_en),1)):s.$i18n.locale=="fr"?(l(),r("span",dt,i(e.name_fr),1)):s.$i18n.locale=="es"?(l(),r("span",ut,i(e.name_es),1)):(l(),r("span",ct,i(e.name_pt),1))],8,at))),128)):(l(),r("option",yt," Select "+i(s.$t("country")),1))],544),[[b,t.city]])]),o("div",pt,[o("label",gt,i(s.$t("university")),1),d(se,{modelValue:t.university,"onUpdate:modelValue":a[10]||(a[10]=e=>t.university=e),data:h.value,placeholder:"Select University",required:!1,resetField:!0,className:"w-full h-full mt-1 block rounded-md border bg-white  border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 text-sm"},null,8,["modelValue","data","className"])]),o("div",mt,[o("button",{type:"button",onClick:a[11]||(a[11]=e=>O()),class:"w-full rounded-md bg-primary-blue px-4 py-2.5 text-white"},i(s.$t("search")),1)])]),_t,o("div",ft,[n(j).type=="particular"||n(j).type=="admin"?(l(),oe(k,{key:0,to:{name:"add.ads"},class:"flex items-center justify-start space-x-3 rounded bg-primary-blue px-3 py-2 text-white"},{default:$(()=>[d(n(ge),{class:"h-6 w-6"}),o("p",vt,i(s.$tc("add",2))+" "+i(s.$t("ads")),1)]),_:1},8,["to"])):m("",!0)]),o("div",ht,[n(f)==3?(l(),r("div",bt,[d(F)])):n(x).length!=0?(l(),r("div",{key:1,ref_key:"adsContainer",ref:A,class:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3"},[(l(!0),r(u,null,c(n(x),e=>(l(),r("div",{class:"dark:bg-gray-800 relative overflow-hidden rounded-lg shadow-lg",key:e.id},[d(k,{to:{name:"show.ads",params:{id:e.id,slug:e.slug}}},{default:$(()=>[o("div",xt,[e.image[0]?(l(),r("div",wt,[o("span",null,i(e.image.length),1)])):m("",!0),e.image[0]?(l(),r("img",{key:1,class:"h-48 w-full rounded-t-lg object-cover",src:e.image[0],alt:e.title},null,8,kt)):(l(),r("div",$t,[d(n(me),{class:"h-full w-full text-gray-500"})]))])]),_:2},1032,["to"]),o("div",zt,[o("a",Ct,i(e.category.name.length<=30?e.category.name:e.category.name.substring(0,25)+"..."),1),d(k,{to:{name:"show.ads",params:{id:e.id,slug:e.slug}}},{default:$(()=>[o("h1",At,i(e.title.length<=20?e.title:e.title.substring(0,19)+"..."),1)]),_:2},1032,["to"]),o("p",Vt,i(e.description.substring(0,19)+"..."),1)]),o("div",St,[e.price&&e.price!="null"?(l(),r("h1",Ut,i(e.price)+" "+i(e.currency.symbol),1)):m("",!0),o("div",jt,[o("div",Nt,[d(n(_e),{class:"h-4 w-4"}),d(k,{to:{name:"compte",params:{slug:e.user.slug,id:e.user.id}},class:"hover:text-primary-blue"},{default:$(()=>[le(i(e.user.firstname),1)]),_:2},1032,["to"])])])])]))),128))],512)):m("",!0),n(f)==1?(l(),r("div",Ft,[d(F)])):m("",!0),n(x).length==0&&n(f)!=1?(l(),r("div",Kt,[d(n(fe),{class:"h-16 w-16"}),o("span",Bt,i(s.$t("no-content")),1)])):m("",!0)])])])}}};export{Pt as default};
