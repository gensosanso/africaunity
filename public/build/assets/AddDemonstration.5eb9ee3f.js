import{r as g,o as oe,a as se,c as r,d as i,e as t,t as n,g as u,k as ne,w as re,h as d,m as h,l as ie,j as a,K as m,J as c,F as p,x as _,f as le,H as ae,b as x}from"./app.84c0cb66.js";import{u as de}from"./zoneServices.76abacaa.js";import{u as ue}from"./cityServices.c7e72ea6.js";import{u as ce}from"./countryServices.50db9239.js";import{u as pe}from"./ministryServices.268bec3b.js";import{u as _e}from"./currencyServices.bcdf698b.js";import{u as me}from"./continentServices.79c94a4b.js";import{u as ye}from"./activityAreaServices.b27cf403.js";import{u as fe}from"./demonstrationServices.b9294d71.js";import{u as be}from"./demonstrationModeServices.e5f7c57e.js";import{u as ge}from"./demonstrationTypeServices.4f474443.js";import{u as he}from"./demonstrationNicheServices.27f629e5.js";const ve={class:"mx-auto min-h-screen w-full bg-white py-4 lg:px-20 xl:w-[90%]"},ke={class:"w-full space-y-4 py-5 text-center"},we={class:"text-4xl font-bold capitalize text-primary-blue"},$e={class:"mx-auto w-full rounded-md bg-white p-6 shadow-xl"},xe={class:"text-xl font-semibold"},Ue={class:"text-md font-light text-gray-700"},Ve={class:"mt-4"},qe={class:"col-span-2"},Ce={class:"text-gray-700"},De=t("span",{class:"text-red-500"},"*",-1),ze={class:"text-xs font-light text-gray-400"},Re={class:"col-span-2 mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},Se={class:"text-gray-700",for:"pt"},Fe=t("span",{class:"text-red-500"},"*",-1),Le=["value"],je={key:0},Be={key:1},Me={key:2},Oe={key:3},Ee={class:"text-gray-700",for:"pt"},Ne=t("span",{class:"text-red-500"},"*",-1),Ze=["value"],Ie={key:0},Je={key:1},Ae={key:2},Ge={key:3},He={class:"text-gray-700",for:"es"},Ke=t("span",{class:"text-red-500"},"*",-1),Pe=["value"],Qe={key:0},Te={key:1},We={key:2},Xe={key:3},Ye={class:"text-gray-700",for:"es"},et=t("span",{class:"text-red-500"},"*",-1),tt=["value"],ot={key:0},st={key:1},nt={key:2},rt={key:3},it={key:1,value:"null"},lt={class:"text-gray-700",for:"es"},at=t("span",{class:"text-red-500"},"*",-1),dt=["value"],ut={key:0},ct={key:1},pt={key:2},_t={key:3},mt={key:1,value:"null"},yt={class:"d text-gray-700",for:"es"},ft=t("span",{class:"text-red-500"},"*",-1),bt=["value"],gt={key:0},ht={key:1},vt={key:2},kt={key:3},wt={key:1,value:"null"},$t={class:""},xt={class:"text-gray-700",for:"es"},Ut=["value"],Vt={key:0},qt={key:1},Ct={key:2},Dt={key:3},zt={class:""},Rt={class:"text-gray-700",for:"pt"},St=["value"],Ft={key:0},Lt={key:1},jt={key:2},Bt={key:3},Mt={class:"sm:col-span-2"},Ot={class:"text-gray-700",for:"pt"},Et=t("span",{class:"text-red-500"},"*",-1),Nt={class:"sm:col-span-2"},Zt={class:"text-gray-700"},It=t("span",{class:"text-red-500"},"*",-1),Jt=t("option",{value:"free"},"Gratuit",-1),At=t("option",{value:"paying"},"Payant",-1),Gt=[Jt,At],Ht={class:"text-gray-700"},Kt={class:"text-gray-700",for:"es"},Pt=["value"],Qt={class:"text-gray-700"},Tt=t("span",{class:"text-red-500"},"*",-1),Wt={class:"text-gray-700"},Xt=t("span",{class:"text-red-500"},"*",-1),Yt={class:"text-gray-700"},eo=t("span",{class:"text-red-500"},"*",-1),to=["value"],oo={key:0},so={key:1},no={key:2},ro={key:3},io={class:"text-gray-700"},lo=t("span",{class:"text-red-500"},"*",-1),ao={class:"text-gray-700"},uo=t("span",{class:"text-red-500"},"*",-1),co={class:"text-gray-700"},po=t("span",{class:"text-red-500"},"*",-1),_o={class:"sm:col-span-2 mt-4"},mo={class:"text-gray-700",for:"fr"},yo={class:"flex items-center space-x-4 py-4"},fo=["src","alt"],bo={class:"sm:col-span-2 mt-4"},go={class:"text-gray-700",for:"pt"},ho=t("span",{class:"text-red-500"},"*",-1),vo={class:"mt-6"},ko={key:0,type:"submit",class:"text-md w-full rounded bg-primary-blue px-6 py-4 leading-5 text-white focus:outline-none"},wo={key:1,type:"submit",disabled:"",class:"text-md flex w-full items-center justify-center rounded bg-blue-300 px-6 py-4 leading-5 text-white focus:outline-none"},Bo={__name:"AddDemonstration",setup($o){const w=g(null),U=ae(),y=g([]),v=g([]),f=g([]),{zones:V,getZones:q}=de(),{cities:C,getCities:D}=ue(),{countries:z,getCountries:R}=ce(),{currencies:S,getCurrencies:F}=_e(),{continents:L,getContinents:j}=me(),{ministries:B,getMinistries:M}=pe(),{activityAreas:O,getActivityAreas:E}=ye(),{errors:k,loading:$,createDemonstration:N}=fe(),{demonstrationTypes:Z,getDemonstrationTypes:I}=ge(),{demonstrationModes:J,getDemonstrationModes:A}=be(),{demonstrationNiches:G,getDemonstrationNiches:H}=he(),b=localStorage.user?JSON.parse(localStorage.user):"";oe(async()=>{await I(),await A(),await H(),await E(),await M(),await F(),await j(),await q(),await R(),await D()});const s=se({title:"",user_id:b.id,description:"",price:"0",image:"",hourly:"",enter_type:"",place_link:"",start_date:"",end_date:"",email:b.email,phone:"",demonstration_type_id:"",demonstration_mode_id:"",demonstration_niche_id:"",currency_id:"",city_id:"",zone_id:"",continent_id:"",country_id:"",ministry_id:"",activity_area_id:""}),K=async()=>{let o=new FormData;o.append("title",s.title),o.append("description",s.description),o.append("price",s.price),o.append("image",s.image),o.append("email",s.email),o.append("hourly",s.hourly),o.append("start_date",s.start_date),o.append("end_date",s.end_date),o.append("phone",s.phone),o.append("enter_type",s.enter_type),o.append("user_id",s.user_id),o.append("currency_id",s.currency_id),o.append("place_link",s.place_link),o.append("demonstration_type_id",s.demonstration_type_id),o.append("demonstration_mode_id",s.demonstration_mode_id),o.append("demonstration_niche_id",s.demonstration_niche_id),o.append("city_id",s.city_id),o.append("zone_id",s.zone_id),o.append("continent_id",s.continent_id),o.append("country_id",s.country_id),o.append("ministry_id",s.ministry_id),o.append("activity_area_id",s.activity_area_id),await N(o),k.value==""&&U.push({name:"compte",params:{slug:b.slug,id:b.id}})},P=()=>{y.value=C.value.filter(o=>o.country_id==s.country_id),s.city_id=""},Q=()=>{f.value=z.value.filter(o=>o.zone_id==s.zone_id),s.country_id="",s.city_id="",y.value=[]},T=()=>{v.value=V.value.filter(o=>o.continent_id==s.continent_id),s.zone_id="",s.country_id="",s.city_id="",y.value=[],f.value=[]},W=async()=>{s.image=w.value.files[0]};function X(o){return URL.createObjectURL(o)}function Y(o){return URL.revokeObjectURL(o)}return(o,l)=>{const ee=x("Error"),te=x("Spin");return r(),i("div",ve,[t("div",ke,[t("h1",we,n(o.$tc("add",1))+" "+n(o.$tc("events",1)),1)]),t("section",$e,[u(k)!=""?(r(),ne(ee,{key:0},{default:re(()=>[d(n(u(k)),1)]),_:1})):h("",!0),t("h1",xe,n(o.$tc("add",1))+" "+n(o.$tc("events",1)),1),t("h2",Ue,n(o.$t("good-msg-post"))+" ! ",1),t("form",{onSubmit:l[25]||(l[25]=ie(e=>K(),["prevent"])),id:"demonstrationform",enctype:"multipart/form-data"},[t("div",Ve,[t("div",qe,[t("label",Ce,[d(n(o.$t("title"))+" ",1),De]),a(t("input",{required:"","onUpdate:modelValue":l[0]||(l[0]=e=>s.title=e),maxlength:"50",type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,s.title]]),t("span",ze,n(s.title?s.title.length:0)+" of 50 Characters",1)]),t("div",Re,[t("div",null,[t("label",Se,[d(n(o.$t("event-type"))+" ",1),Fe]),a(t("select",{required:"","onUpdate:modelValue":l[1]||(l[1]=e=>s.demonstration_type_id=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),i(p,null,_(u(Z),e=>(r(),i("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(r(),i("span",je,n(e.name_en),1)):o.$i18n.locale=="fr"?(r(),i("span",Be,n(e.name_fr),1)):o.$i18n.locale=="es"?(r(),i("span",Me,n(e.name_es),1)):(r(),i("span",Oe,n(e.name_pt),1))],8,Le))),128))],512),[[c,s.demonstration_type_id]])]),t("div",null,[t("label",Ee,[d(n(o.$t("event-mode"))+" ",1),Ne]),a(t("select",{required:"","onUpdate:modelValue":l[2]||(l[2]=e=>s.demonstration_mode_id=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),i(p,null,_(u(J),e=>(r(),i("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(r(),i("span",Ie,n(e.name_en),1)):o.$i18n.locale=="fr"?(r(),i("span",Je,n(e.name_fr),1)):o.$i18n.locale=="es"?(r(),i("span",Ae,n(e.name_es),1)):(r(),i("span",Ge,n(e.name_pt),1))],8,Ze))),128))],512),[[c,s.demonstration_mode_id]])]),t("div",null,[t("label",He,[d(n(o.$t("continent"))+" ",1),Ke]),a(t("select",{required:"","onUpdate:modelValue":l[3]||(l[3]=e=>s.continent_id=e),onChange:l[4]||(l[4]=e=>T()),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),i(p,null,_(u(L),e=>(r(),i("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(r(),i("span",Qe,n(e.name_en),1)):o.$i18n.locale=="fr"?(r(),i("span",Te,n(e.name_fr),1)):o.$i18n.locale=="es"?(r(),i("span",We,n(e.name_es),1)):(r(),i("span",Xe,n(e.name_pt),1))],8,Pe))),128))],544),[[c,s.continent_id]])]),t("div",null,[t("label",Ye,[d(n(o.$t("zoned"))+" ",1),et]),a(t("select",{required:"","onUpdate:modelValue":l[5]||(l[5]=e=>s.zone_id=e),onChange:l[6]||(l[6]=e=>Q()),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[v.value.length!=0?(r(!0),i(p,{key:0},_(v.value,e=>(r(),i("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(r(),i("span",ot,n(e.name_en),1)):o.$i18n.locale=="fr"?(r(),i("span",st,n(e.name_fr),1)):o.$i18n.locale=="es"?(r(),i("span",nt,n(e.name_es),1)):(r(),i("span",rt,n(e.name_pt),1))],8,tt))),128)):(r(),i("option",it," Requires "+n(o.$t("continent")),1))],544),[[c,s.zone_id]])]),t("div",null,[t("label",lt,[d(n(o.$t("country"))+" ",1),at]),a(t("select",{required:"",onChange:l[7]||(l[7]=e=>P()),"onUpdate:modelValue":l[8]||(l[8]=e=>s.country_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[f.value.length!=0?(r(!0),i(p,{key:0},_(f.value,e=>(r(),i("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(r(),i("span",ut,n(e.name_en),1)):o.$i18n.locale=="fr"?(r(),i("span",ct,n(e.name_fr),1)):o.$i18n.locale=="es"?(r(),i("span",pt,n(e.name_es),1)):(r(),i("span",_t,n(e.name_pt),1))],8,dt))),128)):(r(),i("option",mt," Requires "+n(o.$t("zoned")),1))],544),[[c,s.country_id]])]),t("div",null,[t("label",yt,[d(n(o.$t("city"))+" ",1),ft]),a(t("select",{required:"","onUpdate:modelValue":l[9]||(l[9]=e=>s.city_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[y.value.length!=0?(r(!0),i(p,{key:0},_(y.value,e=>(r(),i("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(r(),i("span",gt,n(e.name_en),1)):o.$i18n.locale=="fr"?(r(),i("span",ht,n(e.name_fr),1)):o.$i18n.locale=="es"?(r(),i("span",vt,n(e.name_es),1)):(r(),i("span",kt,n(e.name_pt),1))],8,bt))),128)):(r(),i("option",wt," Requires "+n(o.$t("country")),1))],512),[[c,s.city_id]])]),t("div",$t,[t("label",xt,n(o.$t("activity-area")),1),a(t("select",{"onUpdate:modelValue":l[10]||(l[10]=e=>s.activity_area_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),i(p,null,_(u(O),e=>(r(),i("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(r(),i("span",Vt,n(e.name_en),1)):o.$i18n.locale=="fr"?(r(),i("span",qt,n(e.name_fr),1)):o.$i18n.locale=="es"?(r(),i("span",Ct,n(e.name_es),1)):(r(),i("span",Dt,n(e.name_pt),1))],8,Ut))),128))],512),[[c,s.activity_area_id]])]),t("div",zt,[t("label",Rt,n(o.$t("ministry")),1),a(t("select",{"onUpdate:modelValue":l[11]||(l[11]=e=>s.ministry_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),i(p,null,_(u(B),e=>(r(),i("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(r(),i("span",Ft,n(e.name_en),1)):o.$i18n.locale=="fr"?(r(),i("span",Lt,n(e.name_fr),1)):o.$i18n.locale=="es"?(r(),i("span",jt,n(e.name_es),1)):(r(),i("span",Bt,n(e.name_pt),1))],8,St))),128))],512),[[c,s.ministry_id]])]),t("div",Mt,[t("label",Ot,[d(n(o.$t("location-link"))+" ",1),Et]),a(t("input",{required:"","onUpdate:modelValue":l[12]||(l[12]=e=>s.place_link=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,s.place_link]])]),t("div",Nt,[t("label",Zt,[d(n(o.$t("enter-type")),1),It]),a(t("select",{required:"","onUpdate:modelValue":l[13]||(l[13]=e=>s.enter_type=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},Gt,512),[[c,s.enter_type]])]),t("div",null,[t("label",Ht,n(o.$t("price")),1),a(t("input",{"onUpdate:modelValue":l[14]||(l[14]=e=>s.price=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,s.price]])]),t("div",null,[t("label",Kt,n(o.$t("currency")),1),a(t("select",{"onUpdate:modelValue":l[15]||(l[15]=e=>s.currency_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),i(p,null,_(u(S),e=>(r(),i("option",{key:e.id,value:e.id},n(e.symbol+" "+e.name),9,Pt))),128))],512),[[c,s.currency_id]])]),t("div",null,[t("label",Qt,[d(n(o.$t("start-date"))+" ",1),Tt]),a(t("input",{"onUpdate:modelValue":l[16]||(l[16]=e=>s.start_date=e),type:"date",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,s.start_date]])]),t("div",null,[t("label",Wt,[d(n(o.$t("end-date"))+" ",1),Xt]),a(t("input",{"onUpdate:modelValue":l[17]||(l[17]=e=>s.end_date=e),type:"date",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,s.end_date]])]),t("div",null,[t("label",Yt,[d(n(o.$t("niche"))+" ",1),eo]),a(t("select",{required:"","onUpdate:modelValue":l[18]||(l[18]=e=>s.demonstration_niche_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),i(p,null,_(u(G),e=>(r(),i("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(r(),i("span",oo,n(e.name_en),1)):o.$i18n.locale=="fr"?(r(),i("span",so,n(e.name_fr),1)):o.$i18n.locale=="es"?(r(),i("span",no,n(e.name_es),1)):(r(),i("span",ro,n(e.name_pt),1))],8,to))),128))],512),[[c,s.demonstration_niche_id]])]),t("div",null,[t("label",io,[d(n(o.$t("hour"))+" ",1),lo]),a(t("input",{"onUpdate:modelValue":l[19]||(l[19]=e=>s.hourly=e),type:"time",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,s.hourly]])]),t("div",null,[t("label",ao,[d(n(o.$t("contact-phone"))+" ",1),uo]),a(t("input",{required:"","onUpdate:modelValue":l[20]||(l[20]=e=>s.phone=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,s.phone]])]),t("div",null,[t("label",co,[d(n(o.$t("contact-email"))+" ",1),po]),a(t("input",{required:"","onUpdate:modelValue":l[21]||(l[21]=e=>s.email=e),type:"email",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,s.email]])])]),t("div",_o,[t("label",mo,n(o.$t("thumbnails")),1),t("div",yo,[s.image?(r(),i("img",{key:0,src:typeof s.image=="string"?s.image:X(s.image),onLoad:l[22]||(l[22]=e=>typeof s.image=="string"?"":Y(s.image)),class:"h-16 w-16 rounded-full",alt:s.title},null,40,fo)):h("",!0),t("input",{ref_key:"file",ref:w,onChange:l[23]||(l[23]=e=>W()),accept:"image/*",type:"file",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544)])]),t("div",bo,[t("label",go,[d(n(o.$t("description"))+" ",1),ho]),a(t("textarea",{required:"",type:"text","onUpdate:modelValue":l[24]||(l[24]=e=>s.description=e),id:"pt",class:"mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`\r
                        `,512),[[m,s.description]])])]),t("div",vo,[u($)==0?(r(),i("button",ko,n(o.$t("save")),1)):h("",!0),u($)==1?(r(),i("button",wo,[le(te,{size:"small"})])):h("",!0)])],32)])])}}};export{Bo as default};
