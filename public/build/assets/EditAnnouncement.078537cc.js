import{r as x,o as E,c as n,d as i,e,t as a,g as o,k as z,w as D,h as d,m as g,l as j,j as u,K as c,f as _,J as k,F as h,x as v,I,b as T}from"./app.45c9c1ea.js";import{E as H}from"./Error.17d7fb0f.js";import{u as J}from"./announcementServices.f0479202.js";import{u as K}from"./categoryAnnouncementServices.e1e07e65.js";import{u as L}from"./currencyServices.4c2a2b9d.js";import{u as R}from"./universityServices.9d9e034d.js";import{_ as G}from"./DropZone.407f6221.js";import"./_plugin-vue_export-helper.cdc0426e.js";const O={class:"mx-auto min-h-screen w-full bg-white py-4 lg:px-20 xl:w-[90%]"},P={class:"w-full space-y-4 py-5 text-center"},Q={class:"text-4xl font-bold capitalize text-primary-blue"},W={class:"mx-auto w-full rounded-md bg-white p-6 shadow-xl"},X={class:"text-xl font-semibold"},Y={class:"text-md font-light text-gray-700"},Z={class:"mt-4"},ee={class:"col-span-2"},te={class:"dark:text-gray-200 text-gray-700"},re=e("span",{class:"text-red-500"},"*",-1),oe={class:"text-xs font-light text-gray-400"},se={class:"divSelect2 col-span-2 mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},ae={class:"dark:text-gray-200 text-gray-700",for:"pt"},le=e("span",{class:"text-red-500"},"*",-1),ne={class:"dark:text-gray-200 text-gray-700",for:"pt"},de=e("span",{class:"text-red-500"},"*",-1),ie=["value"],ue={class:"dark:text-gray-200 text-gray-700"},ce=e("span",{class:"text-red-500"},"*",-1),ge={class:"dark:text-gray-200 text-gray-700"},pe=e("span",{class:"text-red-500"},"*",-1),ye={key:0},me={class:"dark:text-gray-200 text-gray-700"},be=e("span",{class:"text-red-500"},"*",-1),fe={key:1},xe={class:"dark:text-gray-200 text-gray-700",for:"es"},_e=e("span",{class:"text-red-500"},"*",-1),ke=["value"],he={class:"dark:text-gray-200 text-gray-700"},ve={class:"dark:text-gray-200 text-gray-700"},we={class:"col-span-2 mt-4"},Ve={class:"dark:text-gray-200 text-gray-700",for:"fr"},$e={class:"flex items-center space-x-4 py-4"},Ue={class:"col-span-2 mt-4"},Ce={class:"dark:text-gray-200 text-gray-700",for:"pt"},Ae=e("span",{class:"text-red-500"},"*",-1),qe={class:"mt-6"},Se={key:0,type:"submit",class:"text-md w-full rounded bg-primary-blue px-6 py-4 leading-5 text-white focus:outline-none"},Ne={key:1,type:"submit",disabled:"",class:"text-md flex w-full items-center justify-center rounded bg-blue-300 px-6 py-4 leading-5 text-white focus:outline-none"},Be=e("svg",{class:"h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),He={__name:"EditAnnouncement",props:{id:{required:!0,type:String}},setup(w){const b=w,V=I(),p=x([]),{updateAnnouncement:$,getAnnouncement:U,announcement:t,errors:y,loading:f}=J(),{categoryAnnouncements:C,getCategoryAnnouncements:A}=K(),{currencies:q,getCurrencies:S}=L(),{universities:N,getAllUniversities:B}=R(),m=x(!1);E(async()=>{m.value=!0,await U(b.id),p.value=t.value.image,console.log(t.value.image),await S(),await A();let l=t.value.university_id;await B(),t.value.university_id="0",t.value.university_id=l,m.value=!1}),t.value.image="";const F=async()=>{await $({...t.value},b.id),y.value==""&&V.push({name:"ads"})};return(l,s)=>{const M=T("SelectFilter");return n(),i("div",O,[e("div",P,[e("h1",Q,a(l.$t("edit"))+" "+a(l.$t("ads")),1)]),e("section",W,[o(y)!=""?(n(),z(H,{key:0},{default:D(()=>[d(a(o(y)),1)]),_:1})):g("",!0),e("h1",X,a(l.$t("edit"))+" "+a(l.$t("ads")),1),e("h2",Y,a(l.$t("good-msg-post"))+" ! ",1),e("form",{onSubmit:s[11]||(s[11]=j(r=>F(),["prevent"])),id:"announcementform",enctype:"multipart/form-data"},[e("div",Z,[e("div",ee,[e("label",te,[d(a(l.$t("title"))+" ",1),re]),u(e("input",{required:"","onUpdate:modelValue":s[0]||(s[0]=r=>o(t).title=r),maxlength:"50",type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,o(t).title]]),e("span",oe,a(o(t).title?o(t).title.length:0)+" of 50 Characters",1)]),e("div",se,[e("div",null,[e("label",ae,[d(a(l.$t("university"))+" ",1),le]),_(M,{modelValue:o(t).university_id,"onUpdate:modelValue":s[1]||(s[1]=r=>o(t).university_id=r),data:o(N),placeholder:"Select University",required:!1,resetField:!0,loading:m.value,className:"w-full h-full mt-1 block rounded-md border bg-white  border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 text-sm"},null,8,["modelValue","data","loading","className"])]),e("div",null,[e("label",ne,[d(a(l.$t("category"))+" ",1),de]),u(e("select",{required:"","onUpdate:modelValue":s[2]||(s[2]=r=>o(t).category_announcement_id=r),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),i(h,null,v(o(C),r=>(n(),i("option",{key:r.id,value:r.id},a(r.name),9,ie))),128))],512),[[k,o(t).category_announcement_id]])]),e("div",null,[e("label",ue,[d(a(l.$t("contact-phone"))+" ",1),ce]),u(e("input",{required:"","onUpdate:modelValue":s[3]||(s[3]=r=>o(t).phone=r),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,o(t).phone]])]),e("div",null,[e("label",ge,[d(a(l.$t("contact-email"))+" ",1),pe]),u(e("input",{required:"","onUpdate:modelValue":s[4]||(s[4]=r=>o(t).email=r),type:"email",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,o(t).email]])]),o(t).category_announcement_id!=10?(n(),i("div",ye,[e("label",me,[d(a(l.$t("price"))+" ",1),be]),u(e("input",{required:"","onUpdate:modelValue":s[5]||(s[5]=r=>o(t).price=r),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,o(t).price]])])):g("",!0),o(t).category_announcement_id!=10?(n(),i("div",fe,[e("label",xe,[d(a(l.$t("currency"))+" ",1),_e]),u(e("select",{required:"","onUpdate:modelValue":s[6]||(s[6]=r=>o(t).currency_id=r),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),i(h,null,v(o(q),r=>(n(),i("option",{key:r.id,value:r.id},a(r.symbol+" "+r.name),9,ke))),128))],512),[[k,o(t).currency_id]])])):g("",!0),e("div",null,[e("label",he,a(l.$t("adresse")),1),u(e("input",{"onUpdate:modelValue":s[7]||(s[7]=r=>o(t).adress=r),placeholder:"Douala Cameroon",type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,o(t).adress]])]),e("div",null,[e("label",ve,a(l.$t("website")),1),u(e("input",{"onUpdate:modelValue":s[8]||(s[8]=r=>o(t).website=r),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,o(t).website]])])]),e("div",we,[e("label",Ve,a(l.$t("thumbnails")),1),e("div",$e,[_(G,{modelValue:p.value,"onUpdate:modelValue":s[9]||(s[9]=r=>p.value=r),multiple:!0},null,8,["modelValue"])])]),e("div",Ue,[e("label",Ce,[d(a(l.$t("description"))+" ",1),Ae]),u(e("textarea",{required:"",type:"text","onUpdate:modelValue":s[10]||(s[10]=r=>o(t).description=r),id:"pt",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`\r
                        `,512),[[c,o(t).description]])])]),e("div",qe,[o(f)==0?(n(),i("button",Se,a(l.$t("save")),1)):g("",!0),o(f)==1?(n(),i("button",Ne,[d(a(l.$t("save"))+"... ",1),Be])):g("",!0)])],32)])])}}};export{He as default};
