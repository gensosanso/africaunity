import{u as S,o as L,a as V,G as z,c as o,d as i,e,g as s,t as r,f as n,k as K,w as g,m as y,j as _,K as M,J as U,F as x,x as m,h as B,b as N}from"./app.45c9c1ea.js";import{u as T}from"./universityServices.9d9e034d.js";import{u as H}from"./announcementServices.f0479202.js";import{u as q}from"./categoryAnnouncementServices.e1e07e65.js";import{r as f}from"./FaceFrownIcon.27f13efd.js";import{r as D}from"./PlusCircleIcon.a5e331a6.js";import{r as F}from"./MegaphoneIcon.5cf9c9c1.js";import{r as J}from"./UserIcon.fd318caf.js";const E={class:"mx-auto min-h-screen w-full bg-white px-20 text-lg xl:w-[90%]"},G={key:0,class:"py-6 px-4"},I={class:"dark:bg-gray-800 overflow-hidden rounded-lg bg-white shadow-md"},O=["src"],P={class:"p-6"},Q={href:"#",class:"rounded bg-primary-blue py-1 px-2 text-xs capitalize text-white"},R={key:0},W={key:1},X={key:2},Y={key:3},Z={class:"dark:text-white mt-2 block transform text-3xl font-semibold text-gray-800 transition-colors duration-200 hover:text-gray-600"},ee=["innerHTML"],te={key:1,class:"p-28"},se=e("svg",{class:"mx-auto h-16 w-16 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),re=[se],oe={key:2,class:"flex animate-pulse flex-col items-center justify-center p-28 text-gray-500"},ie={class:"mt-2 text-2xl"},le={class:"py-2 text-center text-3xl font-bold text-primary-blue"},ae={class:"flex justify-end px-6"},de={class:"text-base leading-4"},ce={class:"mt-4 grid grid-cols-1 gap-2 bg-gray-50 px-10 pb-8 pt-4 shadow lg:grid-cols-3"},ne={class:"text-xs lg:text-sm"},pe={class:"dark:text-gray-200 text-gray-700"},ge={class:"text-xs lg:text-sm"},ye={class:"text-gray-700",for:"es"},ue=e("option",{value:""},"--------------",-1),he=["value"],_e=e("div",{class:"bg-primary-blue p-2 shadow"},null,-1),xe={class:"py-8"},me={key:0,class:"grid grid-cols-1 gap-8 py-8 md:grid-cols-2 lg:grid-cols-3 lg:px-10"},fe={class:"relative"},ve={key:0,class:"absolute top-5 right-5 z-10 flex h-8 w-8 items-center justify-center rounded-full bg-black/50 p-2 text-center text-sm text-white"},we=["src","alt"],be={key:2,class:"h-48 w-full overflow-hidden rounded-t-lg bg-gray-50 py-10"},ke={class:"space-y-2 px-4 py-2"},$e={href:"#",class:"mt-2 rounded bg-primary-blue py-1 px-2 text-xs capitalize text-white"},Ce={class:"text-2xl font-bold capitalize text-gray-800 hover:underline"},je={class:"dark:text-gray-400 mt-2 text-sm text-gray-600"},Ae={class:"flex h-10 items-center justify-between bg-gray-900 px-4 py-2"},Se={key:0,class:"text-lg font-bold text-white"},Le={class:"flex items-center space-x-2 text-xs text-white"},Ve={class:"flex space-x-1"},ze={key:1,class:"flex animate-pulse flex-col items-center justify-center p-28 text-gray-500"},Ke={class:"mt-2 text-2xl"},Fe={__name:"SingleUniversity",props:{id:{required:!0,type:String},slug:{required:!1,type:String}},setup(v){const u=v;S();const{university:a,getUniversity2:w,loading:b}=T(),{categoryAnnouncements:k,getCategoryAnnouncements:$}=q(),C=localStorage.user?JSON.parse(localStorage.user):"",{announcements:j,getAnnouncementsUniversity:A}=H();L(async()=>{await w(u.id),await A(u.id),await $()});const d=V({searchKey:"",category:""}),h=z(()=>j.value.filter(l=>{let c="";return d.category!=""?c=l.title.toLowerCase().includes(d.searchKey.toLowerCase())&&l.category.id==d.category:c=l.title.toLowerCase().includes(d.searchKey.toLowerCase()),c}));return(l,c)=>{const p=N("router-link");return o(),i("div",E,[e("div",null,[s(a).length!=0?(o(),i("div",G,[e("div",I,[e("img",{class:"h-96 w-full object-cover",src:s(a).image,alt:""},null,8,O),e("div",P,[e("div",null,[e("a",Q,[l.$i18n.locale=="en"?(o(),i("span",R,r(s(a).city.name_en+"-"+s(a).country.code_iso),1)):l.$i18n.locale=="fr"?(o(),i("span",W,r(s(a).city.name_fr+"-"+s(a).country.code_iso),1)):l.$i18n.locale=="es"?(o(),i("span",X,r(s(a).city.name_es+"-"+s(a).country.code_iso),1)):(o(),i("span",Y,r(s(a).country.name_pt+"-"+s(a).country.code_iso),1))]),e("h1",Z,r(s(a).name),1),e("p",{class:"dark:text-gray-400 my-4 mt-2 py-4 text-gray-600",innerHTML:s(a).description},null,8,ee)])])])])):s(b)==1?(o(),i("div",te,re)):(o(),i("div",oe,[n(s(f),{class:"h-16 w-16"}),e("span",ie,r(l.$t("no-content")),1)])),e("h1",le,r(l.$t("ads-university"))+" "+r(s(a).name),1),e("div",ae,[s(C).type=="particular"?(o(),K(p,{key:0,to:{name:"add.ads"},class:"flex items-center justify-start space-x-3 rounded bg-primary-blue px-3 py-2 text-white"},{default:g(()=>[n(s(D),{class:"h-6 w-6"}),e("p",de,r(l.$tc("add",2))+" "+r(l.$t("ads")),1)]),_:1},8,["to"])):y("",!0)]),e("div",ce,[e("div",ne,[e("label",pe,r(l.$t("key-words")),1),_(e("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=t=>d.searchKey=t),class:"form-input mt-2 block w-full rounded-md border border-gray-200 bg-white px-3 pr-2 text-gray-700 placeholder:text-gray-400 focus:border-primary-blue focus:ring-primary-blue"},null,512),[[M,d.searchKey]])]),e("div",ge,[e("label",ye,r(l.$t("category")),1),_(e("select",{"onUpdate:modelValue":c[1]||(c[1]=t=>d.category=t),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[ue,(o(!0),i(x,null,m(s(k),t=>(o(),i("option",{key:t.id,value:t.id},r(t.name),9,he))),128))],512),[[U,d.category]])])]),_e,e("div",xe,[s(h).length!=0?(o(),i("div",me,[(o(!0),i(x,null,m(s(h),t=>(o(),i("div",{class:"dark:bg-gray-800 relative overflow-hidden rounded-lg shadow-lg",key:t.id},[n(p,{to:{name:"show.ads",params:{id:t.id,slug:t.slug}}},{default:g(()=>[e("div",fe,[t.image[0]?(o(),i("div",ve,[e("span",null,r(t.image.length),1)])):y("",!0),t.image[0]?(o(),i("img",{key:1,class:"h-48 w-full rounded-t-lg object-cover",src:t.image[0],alt:t.title},null,8,we)):(o(),i("div",be,[n(s(F),{class:"h-full w-full text-gray-500"})]))])]),_:2},1032,["to"]),e("div",ke,[e("a",$e,r(t.category.name.length<=30?t.category.name:t.category.name.substring(0,25)+"..."),1),n(p,{to:{name:"show.ads",params:{id:t.id,slug:t.slug}}},{default:g(()=>[e("h1",Ce,r(t.title.length<=20?t.title:t.title.substring(0,19)+"..."),1)]),_:2},1032,["to"]),e("p",je,r(t.description.substring(0,19)+"..."),1)]),e("div",Ae,[t.price&&t.price!="null"?(o(),i("h1",Se,r(t.price)+" "+r(t.currency.symbol),1)):y("",!0),e("div",Le,[e("div",Ve,[n(s(J),{class:"h-4 w-4"}),n(p,{to:{name:"compte",params:{slug:t.user.slug,id:t.user.id}},class:"hover:text-primary-blue"},{default:g(()=>[B(r(t.user.firstname),1)]),_:2},1032,["to"])])])])]))),128))])):(o(),i("div",ze,[n(s(f),{class:"h-16 w-16"}),e("span",Ke,r(l.$t("no-content")),1)]))])])])}}};export{Fe as default};
