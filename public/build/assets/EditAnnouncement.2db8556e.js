import{r as x,o as j,c as i,d as a,e,t as l,g as s,k as z,w as T,h as d,P as H,m as p,l as I,j as u,K as c,f,J as v,F as h,x as w,H as J,b as k}from"./app.84c0cb66.js";import{u as K}from"./announcementServices.63d4c593.js";import{u as L}from"./categoryAnnouncementServices.f46a6efb.js";import{u as P}from"./currencyServices.bcdf698b.js";import{u as R}from"./universityServices.5aa170b0.js";import{_ as G}from"./DropZone.da7fe120.js";const O={class:"mx-auto min-h-screen w-full bg-white py-4 lg:px-20 xl:w-[90%]"},Q={class:"w-full space-y-4 py-5 text-center"},W={class:"text-4xl font-bold capitalize text-primary-blue"},X={class:"mx-auto w-full rounded-md bg-white p-6 shadow-xl"},Y={class:"text-xl font-semibold"},Z={class:"text-md font-light text-gray-700"},ee={class:"mt-4"},te={class:"col-span-2"},oe={class:"text-gray-700"},se=e("span",{class:"text-red-500"},"*",-1),ne={class:"text-xs font-light text-gray-400"},le={class:"divSelect2 col-span-2 mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},re={class:"text-gray-700",for:"pt"},ie=e("span",{class:"text-red-500"},"*",-1),ae={class:"text-gray-700",for:"pt"},de=e("span",{class:"text-red-500"},"*",-1),ue=["value"],ce={class:"text-gray-700"},pe=e("span",{class:"text-red-500"},"*",-1),me={class:"text-gray-700"},ge=e("span",{class:"text-red-500"},"*",-1),be={key:0},fe={class:"text-gray-700"},ye=e("span",{class:"text-red-500"},"*",-1),_e={key:1},xe={class:"text-gray-700",for:"es"},ve=e("span",{class:"text-red-500"},"*",-1),he=["value"],we={class:"text-gray-700"},ke={class:"text-gray-700"},Ve={class:"col-span-2 mt-4"},$e={class:"text-gray-700",for:"fr"},Ue={class:"flex items-center space-x-4 py-4"},Se={class:"col-span-2 mt-4"},qe={class:"text-gray-700",for:"pt"},Ae=e("span",{class:"text-red-500"},"*",-1),Ce={class:"mt-6"},Ne={key:0,type:"submit",class:"text-md w-full rounded bg-primary-blue px-6 py-4 leading-5 text-white focus:outline-none"},Fe={key:1,type:"submit",disabled:"",class:"text-md flex w-full items-center justify-center rounded bg-blue-300 px-6 py-4 leading-5 text-white focus:outline-none"},Te={__name:"EditAnnouncement",props:{id:{required:!0,type:String}},setup(V){const y=V,$=J(),m=x([]),{updateAnnouncement:U,getAnnouncement:S,announcement:t,errors:g,loading:_}=K(),{categoryAnnouncements:q,getCategoryAnnouncements:A}=L(),{currencies:C,getCurrencies:N}=P(),{universities:F,getAllUniversities:B}=R(),b=x(!1);j(async()=>{b.value=!0,await S(y.id),m.value=t.value.image,console.log(t.value.image),await N(),await A();let r=t.value.university_id;await B(),t.value.university_id="0",t.value.university_id=r,b.value=!1}),t.value.image="";const M=async()=>{await U({...t.value},y.id),g.value==""&&$.push({name:"ads"})};return(r,n)=>{const D=k("SelectFilter"),E=k("Spin");return i(),a("div",O,[e("div",Q,[e("h1",W,l(r.$t("edit"))+" "+l(r.$t("ads")),1)]),e("section",X,[s(g)!=""?(i(),z(H,{key:0},{default:T(()=>[d(l(s(g)),1)]),_:1})):p("",!0),e("h1",Y,l(r.$t("edit"))+" "+l(r.$t("ads")),1),e("h2",Z,l(r.$t("good-msg-post"))+" ! ",1),e("form",{onSubmit:n[11]||(n[11]=I(o=>M(),["prevent"])),id:"announcementform",enctype:"multipart/form-data"},[e("div",ee,[e("div",te,[e("label",oe,[d(l(r.$t("title"))+" ",1),se]),u(e("input",{required:"","onUpdate:modelValue":n[0]||(n[0]=o=>s(t).title=o),maxlength:"50",type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,s(t).title]]),e("span",ne,l(s(t).title?s(t).title.length:0)+" of 50 Characters",1)]),e("div",le,[e("div",null,[e("label",re,[d(l(r.$t("university"))+" ",1),ie]),f(D,{modelValue:s(t).university_id,"onUpdate:modelValue":n[1]||(n[1]=o=>s(t).university_id=o),data:s(F),placeholder:"Select University",required:!1,resetField:!0,loading:b.value,className:"w-full h-full mt-1 block rounded-md border bg-white  border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 text-sm"},null,8,["modelValue","data","loading","className"])]),e("div",null,[e("label",ae,[d(l(r.$t("category"))+" ",1),de]),u(e("select",{required:"","onUpdate:modelValue":n[2]||(n[2]=o=>s(t).category_announcement_id=o),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(i(!0),a(h,null,w(s(q),o=>(i(),a("option",{key:o.id,value:o.id},l(o.name),9,ue))),128))],512),[[v,s(t).category_announcement_id]])]),e("div",null,[e("label",ce,[d(l(r.$t("contact-phone"))+" ",1),pe]),u(e("input",{required:"","onUpdate:modelValue":n[3]||(n[3]=o=>s(t).phone=o),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,s(t).phone]])]),e("div",null,[e("label",me,[d(l(r.$t("contact-email"))+" ",1),ge]),u(e("input",{required:"","onUpdate:modelValue":n[4]||(n[4]=o=>s(t).email=o),type:"email",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,s(t).email]])]),s(t).category_announcement_id!=10?(i(),a("div",be,[e("label",fe,[d(l(r.$t("price"))+" ",1),ye]),u(e("input",{required:"","onUpdate:modelValue":n[5]||(n[5]=o=>s(t).price=o),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,s(t).price]])])):p("",!0),s(t).category_announcement_id!=10?(i(),a("div",_e,[e("label",xe,[d(l(r.$t("currency"))+" ",1),ve]),u(e("select",{required:"","onUpdate:modelValue":n[6]||(n[6]=o=>s(t).currency_id=o),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(i(!0),a(h,null,w(s(C),o=>(i(),a("option",{key:o.id,value:o.id},l(o.symbol+" "+o.name),9,he))),128))],512),[[v,s(t).currency_id]])])):p("",!0),e("div",null,[e("label",we,l(r.$t("adresse")),1),u(e("input",{"onUpdate:modelValue":n[7]||(n[7]=o=>s(t).adress=o),placeholder:"Douala Cameroon",type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,s(t).adress]])]),e("div",null,[e("label",ke,l(r.$t("website")),1),u(e("input",{"onUpdate:modelValue":n[8]||(n[8]=o=>s(t).website=o),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,s(t).website]])])]),e("div",Ve,[e("label",$e,l(r.$t("thumbnails")),1),e("div",Ue,[f(G,{modelValue:m.value,"onUpdate:modelValue":n[9]||(n[9]=o=>m.value=o),multiple:!0},null,8,["modelValue"])])]),e("div",Se,[e("label",qe,[d(l(r.$t("description"))+" ",1),Ae]),u(e("textarea",{required:"",type:"text","onUpdate:modelValue":n[10]||(n[10]=o=>s(t).description=o),id:"pt",class:"mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`\r
                        `,512),[[c,s(t).description]])])]),e("div",Ce,[s(_)==0?(i(),a("button",Ne,l(r.$t("save")),1)):p("",!0),s(_)==1?(i(),a("button",Fe,[f(E,{size:"small"})])):p("",!0)])],32)])])}}};export{Te as default};
