import{u as M,r as m,o as N,G as z,c as o,d as l,g as u,f as c,e as s,t as a,j as f,K as D,J as x,F as b,x as k,w as g,k as C,h as v,b as h}from"./app.c7bd1d8d.js";import{u as q}from"./personalPostsServices.320f9612.js";import{u as U}from"./categoryPersonalPostServices.02942a90.js";import{r as F}from"./BookOpenIcon.65512d24.js";import{r as K}from"./UserIcon.9a401266.js";import{r as T}from"./CalendarIcon.84a77edb.js";const A={class:"mx-auto flex min-h-screen w-full bg-white p-4 text-lg md:space-y-2 lg:flex-row lg:space-x-2 xl:w-[90%]"},E={key:0,class:"py-6 w-full"},G={key:1,class:"w-full"},I={class:"text-center text-5xl font-bold capitalize text-primary-blue"},J={class:"mt-8 flex flex-col-reverse items-center justify-between px-6 py-2 space-x-4 w-full lg:flex-row"},H={class:"items-center w-full space-y-2 lg:space-y-0 space-x-0 lg:space-x-2 flex lg:flex-row flex-col"},O={class:""},Q={class:"relative lg:w-auto w-full"},R=s("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[s("svg",{class:"h-5 w-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[s("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),W={class:"w-full"},X=s("option",{value:""},"Select Language",-1),Y={value:"fr"},Z={value:"en"},ee={value:"es"},se={value:"pt"},te={class:"w-full"},oe=s("option",{value:""},"Select theme",-1),le=["value"],ae={key:0},re={key:1},ne={key:2},ie={key:3},ue=s("div",{class:"lg:w-2/6 w-full justify-center flex lg:justify-end"},null,-1),ce={key:0,class:"grid gap-8 px-6 py-8 lg:grid-cols-4 md:grid-cols-2 grid-cols-1"},de=["src"],_e={class:"p-6"},pe={href:"#",class:"rounded py-1 px-2 text-xs capitalize text-white bg-primary-blue"},ge={key:0},me={key:1},fe={key:2},ve={key:3},he={class:"mt-4 flex items-center justify-between text-sm"},ye={class:"flex items-center space-x-2 text-xs text-gray-500"},we={class:"flex space-x-1"},xe={class:"hidden space-x-1 lg:flex"},be={href:"#",class:"hover:text-primary-blue"},Be={__name:"Blog",setup(ke){const{locale:_}=M(),{personalPosts:L,loading:$,getPersonalPostsLang:y}=q(),{categoryPersonalPosts:P,getCategoryPersonalPosts:S}=U(),r=m(""),d=m(""),n=m("");N(async function(){n.value=_.value,await y(n.value),await S()});const w=z(()=>L.value.filter(t=>d.value!=""&&n.value!=""?(t.title.toLowerCase().includes(r.value.toLowerCase())||t.content.toLowerCase().includes(r.value.toLowerCase()))&&t.category_personal_post_id==d.value&&t.language==n.value:n.value!=""?(t.title.toLowerCase().includes(r.value.toLowerCase())||t.content.toLowerCase().includes(r.value.toLowerCase()))&&t.language==n.value:d.value!=""?(t.title.toLowerCase().includes(r.value.toLowerCase())||t.content.toLowerCase().includes(r.value.toLowerCase()))&&t.category_personal_post_id==d.value:t.title.toLowerCase().includes(r.value.toLowerCase())||t.content.toLowerCase().includes(r.value.toLowerCase()))),j=async()=>{_.value=n.value,localStorage.lang=_,await y(_.value)};return(t,i)=>{const B=h("Spin"),p=h("router-link"),V=h("NoContent");return o(),l("div",A,[u($)==1?(o(),l("div",E,[c(B)])):(o(),l("div",G,[s("h1",I,a(t.$t("personal-blog"))+" Post ",1),s("div",J,[s("div",H,[s("div",O,[s("div",Q,[R,f(s("input",{type:"text",id:"table-search","onUpdate:modelValue":i[0]||(i[0]=e=>r.value=e),class:"block w-80 rounded-lg border border-gray-300 bg-gray-50 p-2.5 pl-10 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500",placeholder:"Search"},null,512),[[D,r.value]])])]),s("div",W,[f(s("select",{"onUpdate:modelValue":i[1]||(i[1]=e=>n.value=e),onChange:i[2]||(i[2]=e=>j()),class:"form-select block w-full rounded-md border border-gray-200 bg-gray-50 py-2 pr-8 pl-4 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[X,s("option",Y,a(t.$t("fr")),1),s("option",Z,a(t.$t("en")),1),s("option",ee,a(t.$t("es")),1),s("option",se,a(t.$t("pt")),1)],544),[[x,n.value]])]),s("div",te,[f(s("select",{"onUpdate:modelValue":i[3]||(i[3]=e=>d.value=e),class:"form-select block w-full rounded-md border border-gray-200 bg-gray-50 py-2 pr-8 pl-4 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[oe,(o(!0),l(b,null,k(u(P),e=>(o(),l("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(o(),l("span",ae,a(e.name_en),1)):t.$i18n.locale=="fr"?(o(),l("span",re,a(e.name_fr),1)):t.$i18n.locale=="es"?(o(),l("span",ne,a(e.name_es),1)):(o(),l("span",ie,a(e.name_pt),1))],8,le))),128))],512),[[x,d.value]])])]),ue]),u(w).length!=0?(o(),l("div",ce,[(o(!0),l(b,null,k(u(w),e=>(o(),l("div",{class:"dark:bg-gray-800 overflow-hidden rounded-lg bg-white shadow-md",key:e.id},[c(p,{to:{name:"compte",params:{id:e.user.id,slug:e.user.slug},query:{personal_post:e.id},hash:"#personal_post"}},{default:g(()=>[e.image?(o(),l("img",{key:0,class:"h-44 w-full object-cover",src:e.image,alt:""},null,8,de)):(o(),C(u(F),{key:1,class:"h-44 w-full text-gray-500"}))]),_:2},1032,["to"]),s("div",_e,[s("div",null,[s("a",pe,[t.$i18n.locale=="en"?(o(),l("span",ge,a(e.category_personal_post.name_en),1)):t.$i18n.locale=="fr"?(o(),l("span",me,a(e.category_personal_post.name_fr),1)):t.$i18n.locale=="es"?(o(),l("span",fe,a(e.category_personal_post.name_es),1)):(o(),l("span",ve,a(e.category_personal_post.name_pt),1))]),c(p,{to:{name:"compte",params:{id:e.user.id,slug:e.user.slug},query:{personal_post:e.id},hash:"#personal_post"},class:"dark:text-white mt-2 block transform text-2xl font-semibold text-gray-800 transition-colors duration-200 hover:text-gray-600 hover:underline"},{default:g(()=>[v(a(e.title.length<=20?e.title:e.title.substring(0,19)+"..."),1)]),_:2},1032,["to"])]),s("div",he,[c(p,{to:{name:"compte",params:{id:e.user.id,slug:e.user.slug},query:{personal_post:e.id},hash:"#personal_post"},class:"dark:text-blue-400 text-blue-600 hover:underline"},{default:g(()=>[v(a(t.$t("read-more")),1)]),_:2},1032,["to"]),s("div",ye,[s("div",we,[c(u(K),{class:"h-4 w-4"}),c(p,{to:{name:"compte",params:{slug:e.user.slug,id:e.user.id}},class:"hover:text-primary-blue"},{default:g(()=>[v(a(e.user.firstname),1)]),_:2},1032,["to"])]),s("div",xe,[c(u(T),{class:"h-4 w-4"}),s("a",be,a(new Date(e.date).toLocaleDateString(u(_),{day:"numeric",year:"numeric",month:"long"})),1)])])])])]))),128))])):(o(),C(V,{key:1}))]))])}}};export{Be as default};
