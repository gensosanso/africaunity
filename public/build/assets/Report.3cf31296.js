import{c as s,d as a,e,a as h,r as g,b as v,j as m,v as k,k as w,w as _,h as c,t as i,P as S,m as b,l as M,f,g as B,K as $}from"./app.19df3b2f.js";function z(r,p){return s(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"})])}const C={class:"fixed inset-0 z-40 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},V={class:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0"},N=e("span",{class:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true"},"\u200B",-1),j={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},A={class:"relative rounded-lg bg-white py-4 shadow"},D={key:1,class:"mx-8 bg-green-50 py-4 px-2 text-green-700"},E={class:"flex items-center justify-center text-xl font-bold text-gray-900 md:text-2xl"},K={class:"mr-2 rounded-full bg-yellow-100 p-2 text-yellow-700"},O={for:"report",class:"dark:text-gray-300 mb-2 block text-sm font-medium text-gray-900"},R=e("span",{class:"text-red-500"},"*",-1),T={key:0,type:"submit",class:"dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 w-full rounded-lg bg-primary-blue px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"},q={key:1,type:"submit",disabled:"",class:"dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 flex w-full items-center justify-center rounded-lg bg-blue-300 px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"},F={key:3,class:"px-8"},P={__name:"Report",props:{open:Boolean,toogleModal:Function,id:String,type:String},setup(r){const p=r,d=h({user:JSON.parse(localStorage.user).id,reported:p.id,content:""}),n=g(0),u=g(""),x=async()=>{u.value="";try{n.value=1,p.type=="post"?await axios.post("/api/post-report",d,{headers:{Authorization:`Bearer ${localStorage.token}`}}):await axios.post("/api/users-report",d,{headers:{Authorization:`Bearer ${localStorage.token}`}}),n.value=2}catch(o){if(o.response.status==422){n.value=0;for(const t in o.response.data.errors)u.value+=o.response.data.errors[t][0]+`
`}}};return(o,t)=>{const y=v("Spin");return m((s(),a("div",C,[e("div",V,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:t[0]||(t[0]=(...l)=>r.toogleModal&&r.toogleModal(...l))}),N,e("div",j,[e("div",A,[u.value!=""?(s(),w(S,{key:0},{default:_(()=>[c(i(u.value),1)]),_:1})):b("",!0),n.value==2?(s(),a("div",D,[e("p",null,i(o.$t("msg-contact-sucess")),1)])):(s(),a("form",{key:2,onSubmit:t[2]||(t[2]=M(l=>x(),["prevent"])),class:"space-y-6 px-6 pb-4 sm:pb-6 lg:px-8 xl:pb-8",action:"#"},[e("h3",E,[e("span",K,[f(B(z),{class:"h-5 w-5"})]),c(" "+i(o.$t("report")),1)]),e("div",null,[e("label",O,[c(i(o.$t("report-msg"))+" ",1),R]),m(e("textarea",{required:"","onUpdate:modelValue":t[1]||(t[1]=l=>d.content=l),id:"report",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`\r
                            `,512),[[$,d.content]])]),n.value==0?(s(),a("button",T,i(o.$t("send")),1)):(s(),a("button",q,[c(i(o.$t("send"))+"... ",1),f(y,{size:"small"})]))],32)),n.value==2?(s(),a("div",F,[e("button",{type:"button",onClick:t[3]||(t[3]=(...l)=>r.toogleModal&&r.toogleModal(...l)),class:"dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mt-2 w-full rounded bg-primary-blue px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"}," OK ")])):b("",!0)])])])],512)),[[k,r.open]])}}};export{P as _,z as r};
