import{r as b,a as X,o as Y,c as r,d as i,e as t,t as s,g as u,k as ee,w as te,h as a,m as g,l as oe,j as d,K as c,J as p,F as m,x as _,f as ne,H as se,b as $}from"./app.5804264a.js";import{u as re}from"./zoneServices.d0d4583e.js";import{u as ie}from"./cityServices.43753766.js";import{u as le}from"./countryServices.e5be4277.js";import{u as ae}from"./currencyServices.91c9797d.js";import{u as de}from"./continentServices.5fff2b65.js";import{u as ue}from"./demonstrationServices.f195c118.js";import{u as ce}from"./demonstrationModeServices.2f1ea9ec.js";import{u as pe}from"./demonstrationTypeServices.9568ed75.js";import{u as me}from"./demonstrationNicheServices.be828415.js";const _e={class:"text-center text-2xl font-bold text-gray-500 sm:text-4xl"},ye={class:"mx-auto w-full rounded-md bg-white p-6 shadow-xl"},fe={class:"mt-4"},be={class:"col-span-2"},ge={class:"text-gray-700"},he=t("span",{class:"text-red-500"},"*",-1),ve={class:"text-xs font-light text-gray-400"},ke={class:"col-span-2 mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},we={class:"text-gray-700",for:"pt"},xe=t("span",{class:"text-red-500"},"*",-1),$e=["value"],Ue={key:0},Ve={key:1},Ce={key:2},qe={key:3},De={class:"text-gray-700",for:"pt"},Se=t("span",{class:"text-red-500"},"*",-1),ze=["value"],Fe={key:0},Le={key:1},je={key:2},Re={key:3},Be={class:"text-gray-700",for:"es"},Oe=t("span",{class:"text-red-500"},"*",-1),Ee=["value"],Ne={key:0},Ze={key:1},Ie={key:2},Je={key:3},Me={class:"text-gray-700",for:"es"},Ge=t("span",{class:"text-red-500"},"*",-1),He=["value"],Ke={key:0},Pe={key:1},Ae={key:2},Qe={key:3},Te={key:1,value:"null"},We={class:"text-gray-700",for:"es"},Xe=t("span",{class:"text-red-500"},"*",-1),Ye=["value"],et={key:0},tt={key:1},ot={key:2},nt={key:3},st={key:1,value:"null"},rt={class:"d text-gray-700",for:"es"},it=t("span",{class:"text-red-500"},"*",-1),lt=["value"],at={key:0},dt={key:1},ut={key:2},ct={key:3},pt={key:1,value:"null"},mt={class:"sm:col-span-2"},_t={class:"text-gray-700",for:"pt"},yt=t("span",{class:"text-red-500"},"*",-1),ft={class:"sm:col-span-2"},bt={class:"text-gray-700"},gt=t("span",{class:"text-red-500"},"*",-1),ht=t("option",{value:"free"},"Gratuit",-1),vt=t("option",{value:"paying"},"Payant",-1),kt=[ht,vt],wt={class:"text-gray-700"},xt={class:"text-gray-700",for:"es"},$t=["value"],Ut={class:"text-gray-700"},Vt=t("span",{class:"text-red-500"},"*",-1),Ct={class:"text-gray-700"},qt=t("span",{class:"text-red-500"},"*",-1),Dt={class:"text-gray-700"},St=t("span",{class:"text-red-500"},"*",-1),zt=["value"],Ft={key:0},Lt={key:1},jt={key:2},Rt={key:3},Bt={class:"text-gray-700"},Ot=t("span",{class:"text-red-500"},"*",-1),Et={class:"text-gray-700"},Nt=t("span",{class:"text-red-500"},"*",-1),Zt={class:"text-gray-700"},It=t("span",{class:"text-red-500"},"*",-1),Jt={class:"sm:col-span-2 mt-4"},Mt={class:"text-gray-700",for:"fr"},Gt={class:"flex items-center space-x-4 py-4"},Ht=["src","alt"],Kt={class:"sm:col-span-2 mt-4"},Pt={class:"text-gray-700",for:"pt"},At=t("span",{class:"text-red-500"},"*",-1),Qt={class:"mt-20"},Tt={key:0,type:"submit",class:"text-md w-full rounded bg-primary-blue px-6 py-4 leading-5 text-white focus:outline-none"},Wt={key:1,type:"submit",disabled:"",class:"text-md flex w-full items-center justify-center rounded bg-blue-300 px-6 py-4 leading-5 text-white focus:outline-none"},uo={__name:"DemonstrationCreate",setup(Xt){const k=b(null),U=se(),y=b([]),h=b([]),f=b([]),{zones:V,getZones:C}=re(),{cities:q,getCities:D}=ie(),{countries:S,getCountries:z}=le(),{currencies:F,getCurrencies:L}=ae(),{continents:j,getContinents:R}=de(),{errors:v,loading:w,createDemonstration:B}=ue(),{demonstrationTypes:O,getDemonstrationTypes:E}=pe(),{demonstrationModes:N,getDemonstrationModes:Z}=ce(),{demonstrationNiches:I,getDemonstrationNiches:J}=me(),x=localStorage.user?JSON.parse(localStorage.user):"",n=X({title:"",user_id:x.id,description:"",price:"0",image:"",hourly:"",enter_type:"",place_link:"",start_date:"",end_date:"",email:x.email,phone:"",demonstration_type_id:"",demonstration_mode_id:"",demonstration_niche_id:"",currency_id:"",city_id:"",zone_id:"",continent_id:"",country_id:""});Y(async()=>{await E(),await Z(),await J(),await L(),await R(),await C(),await z(),await D()});const M=async()=>{let o=new FormData;o.append("title",n.title),o.append("description",n.description),o.append("price",n.price),o.append("image",n.image),o.append("email",n.email),o.append("hourly",n.hourly),o.append("start_date",n.start_date),o.append("end_date",n.end_date),o.append("phone",n.phone),o.append("enter_type",n.enter_type),o.append("user_id",n.user_id),o.append("currency_id",n.currency_id),o.append("place_link",n.place_link),o.append("demonstration_type_id",n.demonstration_type_id),o.append("demonstration_mode_id",n.demonstration_mode_id),o.append("demonstration_niche_id",n.demonstration_niche_id),o.append("city_id",n.city_id),o.append("zone_id",n.zone_id),o.append("continent_id",n.continent_id),o.append("country_id",n.country_id),await B(o),v.value==""&&U.push({name:"admin.event.index"})},G=()=>{y.value=q.value.filter(o=>o.country_id==n.country_id),n.city_id=""},H=()=>{f.value=S.value.filter(o=>o.zone_id==n.zone_id),n.country_id="",n.city_id="",y.value=[]},K=()=>{h.value=V.value.filter(o=>o.continent_id==n.continent_id),n.zone_id="",n.country_id="",n.city_id="",y.value=[],f.value=[]},P=async()=>{n.image=k.value.files[0]};function A(o){return URL.createObjectURL(o)}function Q(o){return URL.revokeObjectURL(o)}return(o,l)=>{const T=$("Error"),W=$("Spin");return r(),i("div",null,[t("h1",_e,s(o.$tc("add",1))+" Demonstration ",1),t("section",ye,[u(v)!=""?(r(),ee(T,{key:0},{default:te(()=>[a(s(u(v)),1)]),_:1})):g("",!0),t("form",{onSubmit:l[23]||(l[23]=oe(e=>M(),["prevent"])),id:"postform",enctype:"multipart/form-data"},[t("div",fe,[t("div",be,[t("label",ge,[a(s(o.$t("title"))+" ",1),he]),d(t("input",{required:"","onUpdate:modelValue":l[0]||(l[0]=e=>n.title=e),maxlength:"50",type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,n.title]]),t("span",ve,s(n.title?n.title.length:0)+" of 50 Characters",1)]),t("div",ke,[t("div",null,[t("label",we,[a(s(o.$t("event-type"))+" ",1),xe]),d(t("select",{required:"","onUpdate:modelValue":l[1]||(l[1]=e=>n.demonstration_type_id=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),i(m,null,_(u(O),e=>(r(),i("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(r(),i("span",Ue,s(e.name_en),1)):o.$i18n.locale=="fr"?(r(),i("span",Ve,s(e.name_fr),1)):o.$i18n.locale=="es"?(r(),i("span",Ce,s(e.name_es),1)):(r(),i("span",qe,s(e.name_pt),1))],8,$e))),128))],512),[[p,n.demonstration_type_id]])]),t("div",null,[t("label",De,[a(s(o.$t("event-mode"))+" ",1),Se]),d(t("select",{required:"","onUpdate:modelValue":l[2]||(l[2]=e=>n.demonstration_mode_id=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),i(m,null,_(u(N),e=>(r(),i("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(r(),i("span",Fe,s(e.name_en),1)):o.$i18n.locale=="fr"?(r(),i("span",Le,s(e.name_fr),1)):o.$i18n.locale=="es"?(r(),i("span",je,s(e.name_es),1)):(r(),i("span",Re,s(e.name_pt),1))],8,ze))),128))],512),[[p,n.demonstration_mode_id]])]),t("div",null,[t("label",Be,[a(s(o.$t("continent"))+" ",1),Oe]),d(t("select",{required:"","onUpdate:modelValue":l[3]||(l[3]=e=>n.continent_id=e),onChange:l[4]||(l[4]=e=>K()),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),i(m,null,_(u(j),e=>(r(),i("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(r(),i("span",Ne,s(e.name_en),1)):o.$i18n.locale=="fr"?(r(),i("span",Ze,s(e.name_fr),1)):o.$i18n.locale=="es"?(r(),i("span",Ie,s(e.name_es),1)):(r(),i("span",Je,s(e.name_pt),1))],8,Ee))),128))],544),[[p,n.continent_id]])]),t("div",null,[t("label",Me,[a(s(o.$t("zoned"))+" ",1),Ge]),d(t("select",{required:"","onUpdate:modelValue":l[5]||(l[5]=e=>n.zone_id=e),onChange:l[6]||(l[6]=e=>H()),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[h.value.length!=0?(r(!0),i(m,{key:0},_(h.value,e=>(r(),i("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(r(),i("span",Ke,s(e.name_en),1)):o.$i18n.locale=="fr"?(r(),i("span",Pe,s(e.name_fr),1)):o.$i18n.locale=="es"?(r(),i("span",Ae,s(e.name_es),1)):(r(),i("span",Qe,s(e.name_pt),1))],8,He))),128)):(r(),i("option",Te," Select "+s(o.$t("continent")),1))],544),[[p,n.zone_id]])]),t("div",null,[t("label",We,[a(s(o.$t("country"))+" ",1),Xe]),d(t("select",{required:"",onChange:l[7]||(l[7]=e=>G()),"onUpdate:modelValue":l[8]||(l[8]=e=>n.country_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[f.value.length!=0?(r(!0),i(m,{key:0},_(f.value,e=>(r(),i("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(r(),i("span",et,s(e.name_en),1)):o.$i18n.locale=="fr"?(r(),i("span",tt,s(e.name_fr),1)):o.$i18n.locale=="es"?(r(),i("span",ot,s(e.name_es),1)):(r(),i("span",nt,s(e.name_pt),1))],8,Ye))),128)):(r(),i("option",st," Select "+s(o.$t("zoned")),1))],544),[[p,n.country_id]])]),t("div",null,[t("label",rt,[a(s(o.$t("city"))+" ",1),it]),d(t("select",{required:"","onUpdate:modelValue":l[9]||(l[9]=e=>n.city_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[y.value.length!=0?(r(!0),i(m,{key:0},_(y.value,e=>(r(),i("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(r(),i("span",at,s(e.name_en),1)):o.$i18n.locale=="fr"?(r(),i("span",dt,s(e.name_fr),1)):o.$i18n.locale=="es"?(r(),i("span",ut,s(e.name_es),1)):(r(),i("span",ct,s(e.name_pt),1))],8,lt))),128)):(r(),i("option",pt," Select "+s(o.$t("country")),1))],512),[[p,n.city_id]])]),t("div",mt,[t("label",_t,[a(s(o.$t("location-link"))+" ",1),yt]),d(t("input",{required:"","onUpdate:modelValue":l[10]||(l[10]=e=>n.place_link=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,n.place_link]])]),t("div",ft,[t("label",bt,[a(s(o.$t("enter-type")),1),gt]),d(t("select",{required:"","onUpdate:modelValue":l[11]||(l[11]=e=>n.enter_type=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},kt,512),[[p,n.enter_type]])]),t("div",null,[t("label",wt,s(o.$t("price")),1),d(t("input",{"onUpdate:modelValue":l[12]||(l[12]=e=>n.price=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,n.price]])]),t("div",null,[t("label",xt,s(o.$t("currency")),1),d(t("select",{"onUpdate:modelValue":l[13]||(l[13]=e=>n.currency_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),i(m,null,_(u(F),e=>(r(),i("option",{key:e.id,value:e.id},s(e.symbol+" "+e.name),9,$t))),128))],512),[[p,n.currency_id]])]),t("div",null,[t("label",Ut,[a(s(o.$t("start-date"))+" ",1),Vt]),d(t("input",{"onUpdate:modelValue":l[14]||(l[14]=e=>n.start_date=e),type:"date",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,n.start_date]])]),t("div",null,[t("label",Ct,[a(s(o.$t("end-date"))+" ",1),qt]),d(t("input",{"onUpdate:modelValue":l[15]||(l[15]=e=>n.end_date=e),type:"date",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,n.end_date]])]),t("div",null,[t("label",Dt,[a(s(o.$t("niche"))+" ",1),St]),d(t("select",{required:"","onUpdate:modelValue":l[16]||(l[16]=e=>n.demonstration_niche_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),i(m,null,_(u(I),e=>(r(),i("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(r(),i("span",Ft,s(e.name_en),1)):o.$i18n.locale=="fr"?(r(),i("span",Lt,s(e.name_fr),1)):o.$i18n.locale=="es"?(r(),i("span",jt,s(e.name_es),1)):(r(),i("span",Rt,s(e.name_pt),1))],8,zt))),128))],512),[[p,n.demonstration_niche_id]])]),t("div",null,[t("label",Bt,[a(s(o.$t("hour"))+" ",1),Ot]),d(t("input",{"onUpdate:modelValue":l[17]||(l[17]=e=>n.hourly=e),type:"time",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,n.hourly]])]),t("div",null,[t("label",Et,[a(s(o.$t("contact-phone"))+" ",1),Nt]),d(t("input",{required:"","onUpdate:modelValue":l[18]||(l[18]=e=>n.phone=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,n.phone]])]),t("div",null,[t("label",Zt,[a(s(o.$t("contact-email"))+" ",1),It]),d(t("input",{required:"","onUpdate:modelValue":l[19]||(l[19]=e=>n.email=e),type:"email",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,n.email]])])]),t("div",Jt,[t("label",Mt,s(o.$t("thumbnails")),1),t("div",Gt,[n.image?(r(),i("img",{key:0,src:typeof n.image=="string"?n.image:A(n.image),onLoad:l[20]||(l[20]=e=>typeof n.image=="string"?"":Q(n.image)),class:"h-16 w-16 rounded-full",alt:n.title},null,40,Ht)):g("",!0),t("input",{ref_key:"file",ref:k,onChange:l[21]||(l[21]=e=>P()),accept:"image/*",type:"file",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544)])]),t("div",Kt,[t("label",Pt,[a(s(o.$t("description"))+" ",1),At]),d(t("textarea",{required:"",type:"text","onUpdate:modelValue":l[22]||(l[22]=e=>n.description=e),id:"pt",class:"mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`\r
                        `,512),[[c,n.description]])])]),t("div",Qt,[u(w)==0?(r(),i("button",Tt,s(o.$t("save")),1)):g("",!0),u(w)==1?(r(),i("button",Wt,[a(s(o.$t("save"))+"... ",1),ne(W,{size:"small"})])):g("",!0)])],32)])])}}};export{uo as default};
